{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/ederivc/Documents/NEWHEROKU/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/ederivc/Documents/NEWHEROKU/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/ederivc/Documents/NEWHEROKU/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Container,Table}from\"react-bootstrap\";import{Alerts}from\"../../../../../../components/FormUtilities\";import{ModalRemoveCita}from\"../CitasUtilities\";import styles from\"./GestionCitasAprobadas.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var GestionCitasAprobadas=function GestionCitasAprobadas(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),citas=_useState2[0],setCitas=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),selectedCitas=_useState4[0],setSelectedCitas=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),approvedCitas=_useState6[0],setApprovedCitas=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),alert=_useState8[0],setAlert=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),alertMsg=_useState10[0],setAlertMsg=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),alertVariant=_useState12[0],setAlertVariant=_useState12[1];var handleApprove=function handleApprove(cita){setApprovedCitas(!approvedCitas);setSelectedCitas(cita);};var getCitas=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/citas/getCitaAprobada\");case 2:res=_context.sent;_context.next=5;return res.json();case 5:json=_context.sent;setCitas(json);case 7:case\"end\":return _context.stop();}}},_callee);}));return function getCitas(){return _ref.apply(this,arguments);};}();useEffect(function(){getCitas();},[approvedCitas]);return/*#__PURE__*/_jsxs(Container,{fluid:true,className:styles.container,children:[/*#__PURE__*/_jsx(\"h1\",{className:styles.title,children:\"Citas Aceptadas\"}),/*#__PURE__*/_jsxs(\"div\",{className:styles.tableCont,children:[alert?Alerts(alertMsg,alertVariant,setAlert):null,/*#__PURE__*/_jsxs(Table,{striped:true,className:\"\",responsive:true,children:[/*#__PURE__*/_jsx(\"thead\",{className:styles.tableHead,children:/*#__PURE__*/_jsxs(\"tr\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID Cita\"}),/*#__PURE__*/_jsx(\"th\",{children:\"ID Usuario\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Nombre del Usuario\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email del Usuario\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Fecha de la Cita\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Descripci\\xF3n\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Cita Realizada\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[citas?Object.keys(citas).map(function(item){var _citas$item$guest_id,_citas$item$guest_nam,_citas$item$guest_ema;return/*#__PURE__*/_jsxs(\"tr\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"td\",{children:citas[item].appointment_id}),/*#__PURE__*/_jsx(\"td\",{children:(_citas$item$guest_id=citas[item].guest_id)!==null&&_citas$item$guest_id!==void 0?_citas$item$guest_id:citas[item].user_id}),/*#__PURE__*/_jsx(\"td\",{children:(_citas$item$guest_nam=citas[item].guest_name)!==null&&_citas$item$guest_nam!==void 0?_citas$item$guest_nam:citas[item].user_name}),/*#__PURE__*/_jsx(\"td\",{children:(_citas$item$guest_ema=citas[item].guest_email)!==null&&_citas$item$guest_ema!==void 0?_citas$item$guest_ema:citas[item].user_email}),/*#__PURE__*/_jsx(\"td\",{children:citas[item].appointment_date}),/*#__PURE__*/_jsx(\"td\",{children:citas[item].descripcion}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{className:styles.btnContainer,children:/*#__PURE__*/_jsx(\"div\",{className:styles.checkIcon,onClick:function onClick(){return handleApprove(citas[item]);},children:/*#__PURE__*/_jsx(\"i\",{className:\"bx bxs-check-circle\"})})})})]},citas[item].appointment_id);}):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{children:\"Loading\"})}),approvedCitas?/*#__PURE__*/_jsx(ModalRemoveCita,{show:approvedCitas,handleClose:handleApprove,selectedCita:selectedCitas,setAlert:setAlert,setAlertMsg:setAlertMsg,setAlertVariant:setAlertVariant,message:\"Est\\xE1 seguro que la cita ya se llev\\xF3 a cabo y desea eliminarla\",messageAlert:\"Cita eliminada.\"}):null]})]})]})]});};export default GestionCitasAprobadas;","map":{"version":3,"sources":["C:/Users/ederivc/Documents/NEWHEROKU/frontend/src/pages/AccountPage/Admin/Gestion/Citas/CitasAprobadas/GestionCitasAprobadas.jsx"],"names":["React","useEffect","useState","Container","Table","Alerts","ModalRemoveCita","styles","GestionCitasAprobadas","citas","setCitas","selectedCitas","setSelectedCitas","approvedCitas","setApprovedCitas","alert","setAlert","alertMsg","setAlertMsg","alertVariant","setAlertVariant","handleApprove","cita","getCitas","fetch","res","json","container","title","tableCont","tableHead","Object","keys","map","item","appointment_id","guest_id","user_id","guest_name","user_name","guest_email","user_email","appointment_date","descripcion","btnContainer","checkIcon"],"mappings":"6XAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,SAAT,CAAoBC,KAApB,KAAiC,iBAAjC,CACA,OAASC,MAAT,KAAuB,4CAAvB,CACA,OAASC,eAAT,KAAgC,mBAAhC,CACA,MAAOC,CAAAA,MAAP,KAAmB,oCAAnB,C,wFAEA,GAAMC,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,EAAM,CAClC,cAA0BN,QAAQ,EAAlC,wCAAOO,KAAP,eAAcC,QAAd,eAEA,eAA0CR,QAAQ,EAAlD,yCAAOS,aAAP,eAAsBC,gBAAtB,eACA,eAA0CV,QAAQ,CAAC,KAAD,CAAlD,yCAAOW,aAAP,eAAsBC,gBAAtB,eAEA,eAA0BZ,QAAQ,EAAlC,yCAAOa,KAAP,eAAcC,QAAd,eACA,eAAgCd,QAAQ,EAAxC,0CAAOe,QAAP,gBAAiBC,WAAjB,gBACA,gBAAwChB,QAAQ,EAAhD,2CAAOiB,YAAP,gBAAqBC,eAArB,gBAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,IAAD,CAAU,CAC9BR,gBAAgB,CAAC,CAACD,aAAF,CAAhB,CACAD,gBAAgB,CAACU,IAAD,CAAhB,CACD,CAHD,CAKA,GAAMC,CAAAA,QAAQ,0FAAG,sKACGC,CAAAA,KAAK,CAAC,wBAAD,CADR,QACTC,GADS,qCAEIA,CAAAA,GAAG,CAACC,IAAJ,EAFJ,QAETA,IAFS,eAGfhB,QAAQ,CAACgB,IAAD,CAAR,CAHe,sDAAH,kBAARH,CAAAA,QAAQ,0CAAd,CAMAtB,SAAS,CAAC,UAAM,CACdsB,QAAQ,GACT,CAFQ,CAEN,CAACV,aAAD,CAFM,CAAT,CAIA,mBACE,MAAC,SAAD,EAAW,KAAK,KAAhB,CAAiB,SAAS,CAAEN,MAAM,CAACoB,SAAnC,wBACE,WAAI,SAAS,CAAEpB,MAAM,CAACqB,KAAtB,6BADF,cAEE,aAAK,SAAS,CAAErB,MAAM,CAACsB,SAAvB,WACGd,KAAK,CAAGV,MAAM,CAACY,QAAD,CAAWE,YAAX,CAAyBH,QAAzB,CAAT,CAA8C,IADtD,cAEE,MAAC,KAAD,EAAO,OAAO,KAAd,CAAe,SAAS,CAAC,EAAzB,CAA4B,UAAU,KAAtC,wBACE,cAAO,SAAS,CAAET,MAAM,CAACuB,SAAzB,uBACE,YAAI,SAAS,CAAC,aAAd,wBACE,+BADF,cAEE,kCAFF,cAGE,0CAHF,cAIE,yCAJF,cAKE,wCALF,cAME,sCANF,cAOE,sCAPF,GADF,EADF,cAYE,yBACGrB,KAAK,CACJsB,MAAM,CAACC,IAAP,CAAYvB,KAAZ,EAAmBwB,GAAnB,CAAuB,SAACC,IAAD,CAAU,sEAC/B,mBACE,YAAI,SAAS,CAAC,aAAd,wBACE,oBAAKzB,KAAK,CAACyB,IAAD,CAAL,CAAYC,cAAjB,EADF,cAEE,0CAAK1B,KAAK,CAACyB,IAAD,CAAL,CAAYE,QAAjB,6DAA6B3B,KAAK,CAACyB,IAAD,CAAL,CAAYG,OAAzC,EAFF,cAGE,2CAAK5B,KAAK,CAACyB,IAAD,CAAL,CAAYI,UAAjB,+DAA+B7B,KAAK,CAACyB,IAAD,CAAL,CAAYK,SAA3C,EAHF,cAIE,2CAAK9B,KAAK,CAACyB,IAAD,CAAL,CAAYM,WAAjB,+DAAgC/B,KAAK,CAACyB,IAAD,CAAL,CAAYO,UAA5C,EAJF,cAKE,oBAAKhC,KAAK,CAACyB,IAAD,CAAL,CAAYQ,gBAAjB,EALF,cAME,oBAAKjC,KAAK,CAACyB,IAAD,CAAL,CAAYS,WAAjB,EANF,cAOE,iCACE,YAAK,SAAS,CAAEpC,MAAM,CAACqC,YAAvB,uBACE,YACE,SAAS,CAAErC,MAAM,CAACsC,SADpB,CAEE,OAAO,CAAE,yBAAMxB,CAAAA,aAAa,CAACZ,KAAK,CAACyB,IAAD,CAAN,CAAnB,EAFX,uBAIE,UAAG,SAAS,CAAC,qBAAb,EAJF,EADF,EADF,EAPF,GAAiCzB,KAAK,CAACyB,IAAD,CAAL,CAAYC,cAA7C,CADF,CAoBD,CArBD,CADI,cAwBJ,iCACE,+BADF,EAzBJ,CA6BGtB,aAAa,cACZ,KAAC,eAAD,EACE,IAAI,CAAEA,aADR,CAEE,WAAW,CAAEQ,aAFf,CAGE,YAAY,CAAEV,aAHhB,CAIE,QAAQ,CAAEK,QAJZ,CAKE,WAAW,CAAEE,WALf,CAME,eAAe,CAAEE,eANnB,CAOE,OAAO,CAAC,qEAPV,CAQE,YAAY,CAAC,iBARf,EADY,CAWV,IAxCN,GAZF,GAFF,GAFF,GADF,CA+DD,CAxFD,CA0FA,cAAeZ,CAAAA,qBAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Container, Table } from \"react-bootstrap\";\r\nimport { Alerts } from \"../../../../../../components/FormUtilities\";\r\nimport { ModalRemoveCita } from \"../CitasUtilities\";\r\nimport styles from \"./GestionCitasAprobadas.module.css\";\r\n\r\nconst GestionCitasAprobadas = () => {\r\n  const [citas, setCitas] = useState();\r\n\r\n  const [selectedCitas, setSelectedCitas] = useState();\r\n  const [approvedCitas, setApprovedCitas] = useState(false);\r\n\r\n  const [alert, setAlert] = useState();\r\n  const [alertMsg, setAlertMsg] = useState();\r\n  const [alertVariant, setAlertVariant] = useState();\r\n\r\n  const handleApprove = (cita) => {\r\n    setApprovedCitas(!approvedCitas);\r\n    setSelectedCitas(cita);\r\n  };\r\n\r\n  const getCitas = async () => {\r\n    const res = await fetch(\"/citas/getCitaAprobada\");\r\n    const json = await res.json();\r\n    setCitas(json);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getCitas();\r\n  }, [approvedCitas]);\r\n\r\n  return (\r\n    <Container fluid className={styles.container}>\r\n      <h1 className={styles.title}>Citas Aceptadas</h1>\r\n      <div className={styles.tableCont}>\r\n        {alert ? Alerts(alertMsg, alertVariant, setAlert) : null}\r\n        <Table striped className=\"\" responsive>\r\n          <thead className={styles.tableHead}>\r\n            <tr className=\"text-center\">\r\n              <th>ID Cita</th>\r\n              <th>ID Usuario</th>\r\n              <th>Nombre del Usuario</th>\r\n              <th>Email del Usuario</th>\r\n              <th>Fecha de la Cita</th>\r\n              <th>Descripción</th>\r\n              <th>Cita Realizada</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {citas ? (\r\n              Object.keys(citas).map((item) => {\r\n                return (\r\n                  <tr className=\"text-center\" key={citas[item].appointment_id}>\r\n                    <td>{citas[item].appointment_id}</td>\r\n                    <td>{citas[item].guest_id ?? citas[item].user_id}</td>\r\n                    <td>{citas[item].guest_name ?? citas[item].user_name}</td>\r\n                    <td>{citas[item].guest_email ?? citas[item].user_email}</td>\r\n                    <td>{citas[item].appointment_date}</td>\r\n                    <td>{citas[item].descripcion}</td>\r\n                    <td>\r\n                      <div className={styles.btnContainer}>\r\n                        <div\r\n                          className={styles.checkIcon}\r\n                          onClick={() => handleApprove(citas[item])}\r\n                        >\r\n                          <i className=\"bx bxs-check-circle\"></i>\r\n                        </div>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })\r\n            ) : (\r\n              <tr>\r\n                <td>Loading</td>\r\n              </tr>\r\n            )}\r\n            {approvedCitas ? (\r\n              <ModalRemoveCita\r\n                show={approvedCitas}\r\n                handleClose={handleApprove}\r\n                selectedCita={selectedCitas}\r\n                setAlert={setAlert}\r\n                setAlertMsg={setAlertMsg}\r\n                setAlertVariant={setAlertVariant}\r\n                message=\"Está seguro que la cita ya se llevó a cabo y desea eliminarla\"\r\n                messageAlert=\"Cita eliminada.\"\r\n              />\r\n            ) : null}\r\n          </tbody>\r\n        </Table>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default GestionCitasAprobadas;\r\n"]},"metadata":{},"sourceType":"module"}