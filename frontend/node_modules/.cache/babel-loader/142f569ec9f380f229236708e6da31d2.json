{"ast":null,"code":"import _toConsumableArray from\"C:/Users/ederivc/Documents/NEWHEROKU/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"C:/Users/ederivc/Documents/NEWHEROKU/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/ederivc/Documents/NEWHEROKU/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"C:/Users/ederivc/Documents/NEWHEROKU/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/ederivc/Documents/NEWHEROKU/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/ederivc/Documents/NEWHEROKU/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useState}from\"react\";import{APIPedidos,IMG_URL}from\"../../api/api\";import useAuth from\"../../auth/useAuth\";import{CartContext}from\"../../layouts/Layout\";import{Alert,Container}from\"react-bootstrap\";import styles from\"./CartPage.module.css\";import{validateEmail}from\"../../components/Validations\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CartPage=function CartPage(){var _user$first_name,_user$last_name,_user$phone,_user$email;var _useContext=useContext(CartContext),cart=_useContext.cart,setCart=_useContext.setCart,addedProduct=_useContext.addedProduct,setAddedProduct=_useContext.setAddedProduct,cartTotal=_useContext.cartTotal,cartRef=_useContext.cartRef,setCartTotal=_useContext.setCartTotal,clearCartInputs=_useContext.clearCartInputs;var _useAuth=useAuth(),user=_useAuth.user;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),hasLoaded=_useState2[0],setHasLoaded=_useState2[1];var _useState3=useState({nombre:(_user$first_name=user===null||user===void 0?void 0:user.first_name)!==null&&_user$first_name!==void 0?_user$first_name:\"\",apellido:(_user$last_name=user===null||user===void 0?void 0:user.last_name)!==null&&_user$last_name!==void 0?_user$last_name:\"\",telefono:(_user$phone=user===null||user===void 0?void 0:user.phone)!==null&&_user$phone!==void 0?_user$phone:\"\",email:(_user$email=user===null||user===void 0?void 0:user.email)!==null&&_user$email!==void 0?_user$email:\"\",direccion:\"\",codigoPostal:\"\"}),_useState4=_slicedToArray(_useState3,2),userForm=_useState4[0],setUserForm=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),alert=_useState6[0],setAlert=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),alertMsg=_useState8[0],setAlertMsg=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),alertVariant=_useState10[0],setAlertVariant=_useState10[1];var handleChange=function handleChange(e){setUserForm(_objectSpread(_objectSpread({},userForm),{},_defineProperty({},e.target.name,e.target.value)));};var handleAlert=function handleAlert(msg,variant){setAlert(true);setAlertMsg(msg);setAlertVariant(variant);setTimeout(function(){setAlert(false);setAlertMsg(\"\");setAlertVariant(\"\");},2000);};var arrayMove=function arrayMove(arr,fromIndex,toIndex){var element=arr[fromIndex];arr.splice(fromIndex,1);arr.splice(toIndex,0,element);};var addProduct=function addProduct(product,oldIndex){setHasLoaded(false);var filteredProduct=cartRef.current.filter(function(item){return item.product_id===product.product_id;});filteredProduct[0].totalNum+=1;var filteredProducts=getArrayItems(product);setObjectValues(filteredProducts,filteredProduct,oldIndex);setCart(cart+1);setCartTotal(cartTotal+product.price);setHasLoaded(true);};var setObjectValues=function setObjectValues(filteredProducts,filteredProduct,oldIndex){Array.prototype.push.apply(filteredProducts,filteredProduct);var newIndex=filteredProducts.length-1;arrayMove(filteredProducts,newIndex,oldIndex);cartRef.current=filteredProducts;setAddedProduct(filteredProducts);};var getArrayItems=function getArrayItems(product){var filteredProducts=cartRef.current.filter(function(item){return item.product_id!==product.product_id;});return filteredProducts;};var deleteProduct=function deleteProduct(product,oldIndex){setHasLoaded(false);var filteredProduct=cartRef.current.filter(function(item){return item.product_id===product.product_id;});if(filteredProduct[0].totalNum>0){filteredProduct[0].totalNum-=1;var filteredProducts=getArrayItems(product);setObjectValues(filteredProducts,filteredProduct,oldIndex);setCart(cart-1);setCartTotal(cartTotal-product.price);setHasLoaded(true);}if(filteredProduct[0].totalNum<=0){cartRef.current.splice(oldIndex,1);setHasLoaded(true);}};var clearInputs=function clearInputs(){var _user$first_name2,_user$last_name2,_user$phone2,_user$email2;setUserForm({nombre:(_user$first_name2=user===null||user===void 0?void 0:user.first_name)!==null&&_user$first_name2!==void 0?_user$first_name2:\"\",apellido:(_user$last_name2=user===null||user===void 0?void 0:user.last_name)!==null&&_user$last_name2!==void 0?_user$last_name2:\"\",telefono:(_user$phone2=user===null||user===void 0?void 0:user.phone)!==null&&_user$phone2!==void 0?_user$phone2:\"\",email:(_user$email2=user===null||user===void 0?void 0:user.email)!==null&&_user$email2!==void 0?_user$email2:\"\",direccion:\"\",codigoPostal:\"\"});setAddedProduct([]);cartRef.current=addedProduct;setCart(0);setCartTotal(0);};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var validate,data,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();validate=0;Object.entries(userForm).forEach(function(_ref2){var _ref3=_slicedToArray(_ref2,2),key=_ref3[0],value=_ref3[1];if(value===\"\"||value.trim()===\"\"){handleAlert(\"No puedes dejar espacios en blanco\",\"danger\");validate=1;return;}if(key===\"telefono\"){if(isNaN(userForm[\"telefono\"])||userForm[\"telefono\"].length!==10){handleAlert(\"El teléfono está incorrecto, debe ser un número de 10 caracteres\",\"danger\");validate=1;return;}}if(key===\"codigoPostal\"){if(isNaN(userForm[\"codigoPostal\"]||userForm[\"codigoPostal\"].length!==5)){handleAlert(\"Código postal incorrecto, deber ser un número de 5 caracteres\",\"danger\");validate=1;return;}}if(key===\"email\"){if(!validateEmail(userForm[\"email\"])){handleAlert(\"El formato del email no es correcto\",\"danger\");validate=1;return;}}});if(!(validate===0)){_context.next=9;break;}data=_objectSpread(_objectSpread({},userForm),{},{Pedidos:cartRef.current,Total:cartTotal});_context.next=7;return APIPedidos.createPedido({data:data});case 7:res=_context.sent;if(res[1].status===400){handleAlert(res[0][\"message\"],\"danger\");}else{clearCartInputs();handleAlert(res[0][\"Response\"],\"success\");}case 9:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();useEffect(function(){addedProduct.forEach(function(value){var productId=value.product_id;var totalNum=0;addedProduct.forEach(function(actualProduct){if(actualProduct.product_id===productId){if(actualProduct.hasOwnProperty(\"totalNum\")){totalNum=actualProduct.totalNum;}else{totalNum+=1;}}});value.totalNum=totalNum;});var unique=_toConsumableArray(new Map(addedProduct.map(function(item){return[item[\"product_id\"],item];})).values());cartRef.current=unique;setHasLoaded(true);},[addedProduct,cartRef]);return/*#__PURE__*/_jsxs(Container,{className:styles.cartContainer,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"py-5 text-center\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"d-block mx-auto mb-5\",src:\"https://image.flaticon.com/icons/png/512/3594/3594363.png\",alt:\"\",width:\"72\",height:\"72\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Carrito de Compras\"}),/*#__PURE__*/_jsx(\"p\",{className:\"lead\",children:\"Para proceder con su compra verifique sus datos y complete los campos vacios. Recibir\\xE1 un correo cuando su pedido haya sido aprobado.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[alert?/*#__PURE__*/_jsx(Alert,{variant:alertVariant,className:\"w-100 mx-auto\",children:alertMsg}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4 order-md-2 mb-4\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"d-flex justify-content-between align-items-center mb-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-muted\",children:\"Carrito\"}),/*#__PURE__*/_jsx(\"span\",{className:\"badge badge-secondary badge-pill\",children:cart})]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"list-group mb-3\",children:[hasLoaded?cartRef.current.map(function(product){return/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item d-flex justify-content-between align-items-center flex-wrap lh-condensed\",children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.productCont,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.productInfo,children:[/*#__PURE__*/_jsx(\"h6\",{className:\"my-0\",children:product.name}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:product.descripcion})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.imgCont,children:/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(IMG_URL).concat(product.img),alt:\"\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-muted\",children:[\"$\",product.totalNum*product.price]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Cantidad: \",product.totalNum]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.buttons,children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",onClick:function onClick(){return addProduct(product,cartRef.current.indexOf(product));},children:\"+\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:function onClick(){return deleteProduct(product,cartRef.current.indexOf(product));},children:\"-\"})]})]})]},product.product_id);}):null,/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total\"}),/*#__PURE__*/_jsx(\"strong\",{children:\"$\".concat(cartTotal)})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-8 order-md-1\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"mb-3\",children:\"Datos del Usuario\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"nombre\",children:\"Nombre\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"nombre\",name:\"nombre\",placeholder:\"\",value:userForm.nombre,onChange:handleChange,disabled:userForm.email?true:false})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"apellido\",children:\"Apellidos\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"apellido\",name:\"apellido\",placeholder:\"\",value:userForm.apellido,onChange:handleChange,disabled:userForm.email?true:false})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"telefono\",children:\"Tel\\xE9fono\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"telefono\",name:\"telefono\",placeholder:\"Ejemplo: 4433609253\",value:userForm.telefono,onChange:handleChange})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"email\",name:\"email\",placeholder:\"usuario@ejemplo.com\",value:userForm.email,onChange:handleChange,disabled:userForm.email?true:false})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"direccion\",children:\"Direcci\\xF3n\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"direccion\",name:\"direccion\",placeholder:\"Direcci\\xF3n\",value:userForm.direccion,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"codigoPostal\",children:\"C\\xF3digo Postal\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",id:\"codigoPostal\",name:\"codigoPostal\",placeholder:\"C\\xF3digo Postal\",value:userForm.codigoPostal,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"hr\",{class:\"mb-4\"}),/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-primary btn-lg btn-block\",onClick:handleSubmit,children:\"Realizar Pedido\"})]})]})]})]});};export default CartPage;","map":{"version":3,"sources":["C:/Users/ederivc/Documents/NEWHEROKU/frontend/src/pages/CartPage/CartPage.jsx"],"names":["React","useContext","useEffect","useState","APIPedidos","IMG_URL","useAuth","CartContext","Alert","Container","styles","validateEmail","CartPage","cart","setCart","addedProduct","setAddedProduct","cartTotal","cartRef","setCartTotal","clearCartInputs","user","hasLoaded","setHasLoaded","nombre","first_name","apellido","last_name","telefono","phone","email","direccion","codigoPostal","userForm","setUserForm","alert","setAlert","alertMsg","setAlertMsg","alertVariant","setAlertVariant","handleChange","e","target","name","value","handleAlert","msg","variant","setTimeout","arrayMove","arr","fromIndex","toIndex","element","splice","addProduct","product","oldIndex","filteredProduct","current","filter","item","product_id","totalNum","filteredProducts","getArrayItems","setObjectValues","price","Array","prototype","push","apply","newIndex","length","deleteProduct","clearInputs","handleSubmit","preventDefault","validate","Object","entries","forEach","key","trim","isNaN","data","Pedidos","Total","createPedido","res","status","productId","actualProduct","hasOwnProperty","unique","Map","map","values","cartContainer","productCont","productInfo","descripcion","imgCont","img","buttons","indexOf"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\r\nimport { APIPedidos, IMG_URL } from \"../../api/api\";\r\nimport useAuth from \"../../auth/useAuth\";\r\nimport { CartContext } from \"../../layouts/Layout\";\r\nimport { Alert, Container } from \"react-bootstrap\";\r\nimport styles from \"./CartPage.module.css\";\r\nimport { validateEmail } from \"../../components/Validations\";\r\n\r\nconst CartPage = () => {\r\n  const {\r\n    cart,\r\n    setCart,\r\n    addedProduct,\r\n    setAddedProduct,\r\n    cartTotal,\r\n    cartRef,\r\n    setCartTotal,\r\n    clearCartInputs,\r\n  } = useContext(CartContext);\r\n\r\n  const { user } = useAuth();\r\n  const [hasLoaded, setHasLoaded] = useState(false);\r\n  const [userForm, setUserForm] = useState({\r\n    nombre: user?.first_name ?? \"\",\r\n    apellido: user?.last_name ?? \"\",\r\n    telefono: user?.phone ?? \"\",\r\n    email: user?.email ?? \"\",\r\n    direccion: \"\",\r\n    codigoPostal: \"\",\r\n  });\r\n\r\n  const [alert, setAlert] = useState();\r\n  const [alertMsg, setAlertMsg] = useState();\r\n  const [alertVariant, setAlertVariant] = useState();\r\n\r\n  const handleChange = (e) => {\r\n    setUserForm({\r\n      ...userForm,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleAlert = (msg, variant) => {\r\n    setAlert(true);\r\n    setAlertMsg(msg);\r\n    setAlertVariant(variant);\r\n    setTimeout(() => {\r\n      setAlert(false);\r\n      setAlertMsg(\"\");\r\n      setAlertVariant(\"\");\r\n    }, 2000);\r\n  };\r\n\r\n  const arrayMove = (arr, fromIndex, toIndex) => {\r\n    const element = arr[fromIndex];\r\n    arr.splice(fromIndex, 1);\r\n    arr.splice(toIndex, 0, element);\r\n  };\r\n\r\n  const addProduct = (product, oldIndex) => {\r\n    setHasLoaded(false);\r\n    const filteredProduct = cartRef.current.filter(\r\n      (item) => item.product_id === product.product_id\r\n    );\r\n\r\n    filteredProduct[0].totalNum += 1;\r\n\r\n    const filteredProducts = getArrayItems(product);\r\n\r\n    setObjectValues(filteredProducts, filteredProduct, oldIndex);\r\n\r\n    setCart(cart + 1);\r\n    setCartTotal(cartTotal + product.price);\r\n\r\n    setHasLoaded(true);\r\n  };\r\n\r\n  const setObjectValues = (filteredProducts, filteredProduct, oldIndex) => {\r\n    Array.prototype.push.apply(filteredProducts, filteredProduct);\r\n\r\n    const newIndex = filteredProducts.length - 1;\r\n\r\n    arrayMove(filteredProducts, newIndex, oldIndex);\r\n\r\n    cartRef.current = filteredProducts;\r\n    setAddedProduct(filteredProducts);\r\n  };\r\n\r\n  const getArrayItems = (product) => {\r\n    const filteredProducts = cartRef.current.filter(\r\n      (item) => item.product_id !== product.product_id\r\n    );\r\n\r\n    return filteredProducts;\r\n  };\r\n\r\n  const deleteProduct = (product, oldIndex) => {\r\n    setHasLoaded(false);\r\n    const filteredProduct = cartRef.current.filter(\r\n      (item) => item.product_id === product.product_id\r\n    );\r\n\r\n    if (filteredProduct[0].totalNum > 0) {\r\n      filteredProduct[0].totalNum -= 1;\r\n\r\n      const filteredProducts = getArrayItems(product);\r\n\r\n      setObjectValues(filteredProducts, filteredProduct, oldIndex);\r\n\r\n      setCart(cart - 1);\r\n      setCartTotal(cartTotal - product.price);\r\n\r\n      setHasLoaded(true);\r\n    }\r\n\r\n    if (filteredProduct[0].totalNum <= 0) {\r\n      cartRef.current.splice(oldIndex, 1);\r\n      setHasLoaded(true);\r\n    }\r\n  };\r\n\r\n  const clearInputs = () => {\r\n    setUserForm({\r\n      nombre: user?.first_name ?? \"\",\r\n      apellido: user?.last_name ?? \"\",\r\n      telefono: user?.phone ?? \"\",\r\n      email: user?.email ?? \"\",\r\n      direccion: \"\",\r\n      codigoPostal: \"\",\r\n    });\r\n    setAddedProduct([]);\r\n    cartRef.current = addedProduct;\r\n    setCart(0);\r\n    setCartTotal(0);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    let validate = 0;\r\n    Object.entries(userForm).forEach(([key, value]) => {\r\n      if (value === \"\" || value.trim() === \"\") {\r\n        handleAlert(\"No puedes dejar espacios en blanco\", \"danger\");\r\n        validate = 1;\r\n        return;\r\n      }\r\n\r\n      if (key === \"telefono\") {\r\n        if (isNaN(userForm[\"telefono\"]) || userForm[\"telefono\"].length !== 10) {\r\n          handleAlert(\r\n            \"El teléfono está incorrecto, debe ser un número de 10 caracteres\",\r\n            \"danger\"\r\n          );\r\n          validate = 1;\r\n          return;\r\n        }\r\n      }\r\n\r\n      if (key === \"codigoPostal\") {\r\n        if (\r\n          isNaN(\r\n            userForm[\"codigoPostal\"] || userForm[\"codigoPostal\"].length !== 5\r\n          )\r\n        ) {\r\n          handleAlert(\r\n            \"Código postal incorrecto, deber ser un número de 5 caracteres\",\r\n            \"danger\"\r\n          );\r\n          validate = 1;\r\n          return;\r\n        }\r\n      }\r\n\r\n      if (key === \"email\") {\r\n        if (!validateEmail(userForm[\"email\"])) {\r\n          handleAlert(\"El formato del email no es correcto\", \"danger\");\r\n          validate = 1;\r\n          return;\r\n        }\r\n      }\r\n    });\r\n\r\n    if (validate === 0) {\r\n      const data = { ...userForm, Pedidos: cartRef.current, Total: cartTotal };\r\n      const res = await APIPedidos.createPedido({\r\n        data,\r\n      });\r\n      if (res[1].status === 400) {\r\n        handleAlert(res[0][\"message\"], \"danger\");\r\n      } else {\r\n        clearCartInputs();\r\n        handleAlert(res[0][\"Response\"], \"success\");\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    addedProduct.forEach((value) => {\r\n      const productId = value.product_id;\r\n      let totalNum = 0;\r\n\r\n      addedProduct.forEach((actualProduct) => {\r\n        if (actualProduct.product_id === productId) {\r\n          if (actualProduct.hasOwnProperty(\"totalNum\")) {\r\n            totalNum = actualProduct.totalNum;\r\n          } else {\r\n            totalNum += 1;\r\n          }\r\n        }\r\n      });\r\n      value.totalNum = totalNum;\r\n    });\r\n\r\n    const unique = [\r\n      ...new Map(\r\n        addedProduct.map((item) => [item[\"product_id\"], item])\r\n      ).values(),\r\n    ];\r\n\r\n    cartRef.current = unique;\r\n\r\n    setHasLoaded(true);\r\n  }, [addedProduct, cartRef]);\r\n\r\n  return (\r\n    <Container className={styles.cartContainer}>\r\n      <div className=\"py-5 text-center\">\r\n        <img\r\n          className=\"d-block mx-auto mb-5\"\r\n          src=\"https://image.flaticon.com/icons/png/512/3594/3594363.png\"\r\n          alt=\"\"\r\n          width=\"72\"\r\n          height=\"72\"\r\n        />\r\n        <h2>Carrito de Compras</h2>\r\n        <p className=\"lead\">\r\n          Para proceder con su compra verifique sus datos y complete los campos\r\n          vacios. Recibirá un correo cuando su pedido haya sido aprobado.\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"row\">\r\n        {alert ? (\r\n          <Alert variant={alertVariant} className=\"w-100 mx-auto\">\r\n            {alertMsg}\r\n          </Alert>\r\n        ) : null}\r\n        <div className=\"col-md-4 order-md-2 mb-4\">\r\n          <h4 className=\"d-flex justify-content-between align-items-center mb-3\">\r\n            <span className=\"text-muted\">Carrito</span>\r\n            <span className=\"badge badge-secondary badge-pill\">{cart}</span>\r\n          </h4>\r\n          <ul className=\"list-group mb-3\">\r\n            {hasLoaded\r\n              ? cartRef.current.map((product) => {\r\n                  return (\r\n                    <li\r\n                      key={product.product_id}\r\n                      className=\"list-group-item d-flex justify-content-between align-items-center flex-wrap lh-condensed\"\r\n                    >\r\n                      <div className={styles.productCont}>\r\n                        <div className={styles.productInfo}>\r\n                          <h6 className=\"my-0\">{product.name}</h6>\r\n                          <small className=\"text-muted\">\r\n                            {product.descripcion}\r\n                          </small>\r\n                        </div>\r\n                        <div className={styles.imgCont}>\r\n                          <img src={`${IMG_URL}${product.img}`} alt=\"\" />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"d-flex flex-column\">\r\n                        <span className=\"text-muted\">\r\n                          ${product.totalNum * product.price}\r\n                        </span>\r\n                        <span>Cantidad: {product.totalNum}</span>\r\n                        <div className={styles.buttons}>\r\n                          <button\r\n                            className=\"btn btn-success\"\r\n                            onClick={() =>\r\n                              addProduct(\r\n                                product,\r\n                                cartRef.current.indexOf(product)\r\n                              )\r\n                            }\r\n                          >\r\n                            +\r\n                          </button>\r\n                          <button\r\n                            className=\"btn btn-danger\"\r\n                            onClick={() =>\r\n                              deleteProduct(\r\n                                product,\r\n                                cartRef.current.indexOf(product)\r\n                              )\r\n                            }\r\n                          >\r\n                            -\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </li>\r\n                  );\r\n                })\r\n              : null}\r\n            <li className=\"list-group-item d-flex justify-content-between\">\r\n              <span>Total</span>\r\n              <strong>{`$${cartTotal}`}</strong>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <div className=\"col-md-8 order-md-1\">\r\n          <h4 className=\"mb-3\">Datos del Usuario</h4>\r\n          <form>\r\n            <div className=\"row\">\r\n              <div className=\"col-md-6 mb-3\">\r\n                <label for=\"nombre\">Nombre</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"nombre\"\r\n                  name=\"nombre\"\r\n                  placeholder=\"\"\r\n                  value={userForm.nombre}\r\n                  onChange={handleChange}\r\n                  disabled={userForm.email ? true : false}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-6 mb-3\">\r\n                <label for=\"apellido\">Apellidos</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"apellido\"\r\n                  name=\"apellido\"\r\n                  placeholder=\"\"\r\n                  value={userForm.apellido}\r\n                  onChange={handleChange}\r\n                  disabled={userForm.email ? true : false}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mb-3\">\r\n              <label for=\"telefono\">Teléfono</label>\r\n              <div className=\"input-group\">\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  id=\"telefono\"\r\n                  name=\"telefono\"\r\n                  placeholder=\"Ejemplo: 4433609253\"\r\n                  value={userForm.telefono}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mb-3\">\r\n              <label for=\"email\">Email</label>\r\n              <input\r\n                type=\"email\"\r\n                className=\"form-control\"\r\n                id=\"email\"\r\n                name=\"email\"\r\n                placeholder=\"usuario@ejemplo.com\"\r\n                value={userForm.email}\r\n                onChange={handleChange}\r\n                disabled={userForm.email ? true : false}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"mb-3\">\r\n              <label for=\"direccion\">Dirección</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                id=\"direccion\"\r\n                name=\"direccion\"\r\n                placeholder=\"Dirección\"\r\n                value={userForm.direccion}\r\n                onChange={handleChange}\r\n              />\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"codigoPostal\">Código Postal</label>\r\n              <input\r\n                type=\"text\"\r\n                class=\"form-control\"\r\n                id=\"codigoPostal\"\r\n                name=\"codigoPostal\"\r\n                placeholder=\"Código Postal\"\r\n                value={userForm.codigoPostal}\r\n                onChange={handleChange}\r\n              />\r\n            </div>\r\n            <hr class=\"mb-4\" />\r\n            <button\r\n              class=\"btn btn-primary btn-lg btn-block\"\r\n              onClick={handleSubmit}\r\n            >\r\n              Realizar Pedido\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default CartPage;\r\n"]},"metadata":{},"sourceType":"module"}