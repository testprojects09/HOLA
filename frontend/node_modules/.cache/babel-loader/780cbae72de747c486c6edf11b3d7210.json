{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/ederivc/Documents/NEWHEROKU/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/ederivc/Documents/NEWHEROKU/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"C:/Users/ederivc/Documents/NEWHEROKU/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/ederivc/Documents/NEWHEROKU/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/ederivc/Documents/NEWHEROKU/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState}from\"react\";import{Button,Form,Modal,Table}from\"react-bootstrap\";import{APIPedidos,IMG_URL}from\"../../../../../api/api\";import styles from\"./GestionarPedidos.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ModalUpdate=function ModalUpdate(_ref){var show=_ref.show,handleClose=_ref.handleClose,selectedPedido=_ref.selectedPedido,setAlert=_ref.setAlert,setAlertMsg=_ref.setAlertMsg,setAlertVariant=_ref.setAlertVariant;var _useState=useState({products:selectedPedido.products,status:selectedPedido.status}),_useState2=_slicedToArray(_useState,2),formPedido=_useState2[0],setFormPedido=_useState2[1];var handleChange=function handleChange(e){setFormPedido(_objectSpread(_objectSpread({},formPedido),{},_defineProperty({},e.target.name,e.target.value)));};var handleAlert=function handleAlert(msg,variant){setAlert(true);setAlertMsg(msg);setAlertVariant(variant);setTimeout(function(){setAlert(false);setAlertMsg(\"\");setAlertVariant(\"\");},3000);handleClose();};var checkResponse=function checkResponse(res){if(res[1].status===400){handleAlert(res[0][\"message\"],\"danger\");}else{handleAlert(\"Pedido modificado correctamente.\",\"success\");}};var updatePedido=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return APIPedidos.updatePedido({id:selectedPedido.pedido_id,status:formPedido.status});case 2:res=_context.sent;checkResponse(res);case 4:case\"end\":return _context.stop();}}},_callee);}));return function updatePedido(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Modal,{show:show,onHide:handleClose,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Editar Pedido\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Table,{striped:true,hover:true,responsive:true,children:[/*#__PURE__*/_jsx(\"thead\",{className:styles.tableHead,children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Nombre\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Cantidad\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Im\\xE1gen\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:selectedPedido.products.map(function(item){return/*#__PURE__*/_jsxs(\"tr\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"td\",{children:item.product_id}),/*#__PURE__*/_jsx(\"td\",{children:item.name}),/*#__PURE__*/_jsx(\"td\",{children:item.totalNum}),/*#__PURE__*/_jsx(\"td\",{className:styles.imgCont,children:/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(IMG_URL).concat(item.img),alt:item.name})})]},item.product_id);})})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formStatus\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Status del Usuario\"}),/*#__PURE__*/_jsxs(Form.Control,{as:\"select\",value:formPedido.status,onChange:handleChange,name:\"status\",children:[/*#__PURE__*/_jsxs(\"option\",{disabled:true,value:-1,children:[\"Status actual: \",selectedPedido.status]}),/*#__PURE__*/_jsx(\"option\",{children:\"Realizado\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Enviado\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Entregado\"})]})]})]})}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleClose,children:\"Cancelar\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:updatePedido,children:\"Editar\"})]})]});};export{ModalUpdate};","map":{"version":3,"sources":["C:/Users/ederivc/Documents/NEWHEROKU/frontend/src/pages/AccountPage/Admin/Gestion/Pedidos/GestionPedidosUtilitites.jsx"],"names":["useState","Button","Form","Modal","Table","APIPedidos","IMG_URL","styles","ModalUpdate","show","handleClose","selectedPedido","setAlert","setAlertMsg","setAlertVariant","products","status","formPedido","setFormPedido","handleChange","e","target","name","value","handleAlert","msg","variant","setTimeout","checkResponse","res","updatePedido","id","pedido_id","tableHead","map","item","product_id","totalNum","imgCont","img"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\r\nimport { Button, Form, Modal, Table } from \"react-bootstrap\";\r\nimport { APIPedidos, IMG_URL } from \"../../../../../api/api\";\r\nimport styles from \"./GestionarPedidos.module.css\";\r\n\r\nconst ModalUpdate = ({\r\n  show,\r\n  handleClose,\r\n  selectedPedido,\r\n  setAlert,\r\n  setAlertMsg,\r\n  setAlertVariant,\r\n}) => {\r\n  const [formPedido, setFormPedido] = useState({\r\n    products: selectedPedido.products,\r\n    status: selectedPedido.status,\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    setFormPedido({\r\n      ...formPedido,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleAlert = (msg, variant) => {\r\n    setAlert(true);\r\n    setAlertMsg(msg);\r\n    setAlertVariant(variant);\r\n    setTimeout(() => {\r\n      setAlert(false);\r\n      setAlertMsg(\"\");\r\n      setAlertVariant(\"\");\r\n    }, 3000);\r\n    handleClose();\r\n  };\r\n\r\n  const checkResponse = (res) => {\r\n    if (res[1].status === 400) {\r\n      handleAlert(res[0][\"message\"], \"danger\");\r\n    } else {\r\n      handleAlert(\"Pedido modificado correctamente.\", \"success\");\r\n    }\r\n  };\r\n\r\n  const updatePedido = async () => {\r\n    const res = await APIPedidos.updatePedido({\r\n      id: selectedPedido.pedido_id,\r\n      status: formPedido.status,\r\n    });\r\n    checkResponse(res);\r\n  };\r\n\r\n  return (\r\n    <Modal show={show} onHide={handleClose}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Editar Pedido</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <Form>\r\n          <Table striped hover responsive>\r\n            <thead className={styles.tableHead}>\r\n              <tr>\r\n                <th>ID</th>\r\n                <th>Nombre</th>\r\n                <th>Cantidad</th>\r\n                <th>Im√°gen</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {selectedPedido.products.map((item) => {\r\n                return (\r\n                  <tr className=\"text-center\" key={item.product_id}>\r\n                    <td>{item.product_id}</td>\r\n                    <td>{item.name}</td>\r\n                    <td>{item.totalNum}</td>\r\n                    <td className={styles.imgCont}>\r\n                      <img src={`${IMG_URL}${item.img}`} alt={item.name}></img>\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </Table>\r\n          <Form.Group className=\"mb-3\" controlId=\"formStatus\">\r\n            <Form.Label>Status del Usuario</Form.Label>\r\n            <Form.Control\r\n              as=\"select\"\r\n              value={formPedido.status}\r\n              onChange={handleChange}\r\n              name=\"status\"\r\n            >\r\n              <option disabled value={-1}>\r\n                Status actual: {selectedPedido.status}\r\n              </option>\r\n              <option>Realizado</option>\r\n              <option>Enviado</option>\r\n              <option>Entregado</option>\r\n            </Form.Control>\r\n          </Form.Group>\r\n        </Form>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button variant=\"secondary\" onClick={handleClose}>\r\n          Cancelar\r\n        </Button>\r\n        <Button variant=\"primary\" onClick={updatePedido}>\r\n          Editar\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport { ModalUpdate };\r\n"]},"metadata":{},"sourceType":"module"}