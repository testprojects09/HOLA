{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/ederivc/Documents/NEWHEROKU/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/ederivc/Documents/NEWHEROKU/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"C:/Users/ederivc/Documents/NEWHEROKU/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/ederivc/Documents/NEWHEROKU/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/ederivc/Documents/NEWHEROKU/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Col,Container,Form,Row,Button}from\"react-bootstrap\";import{APICitas}from\"../../api/api\";import useAuth from\"../../auth/useAuth\";import{Alerts}from\"../../components/FormUtilities\";import styles from\"./AppointmentPage.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AppointmentPage=function AppointmentPage(){var _useAuth=useAuth(),user=_useAuth.user;var _useState=useState(),_useState2=_slicedToArray(_useState,2),alert=_useState2[0],setAlert=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),alertMsg=_useState4[0],setAlertMsg=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),alertVariant=_useState6[0],setAlertVariant=_useState6[1];var _useState7=useState({nombre:\"\",apellidos:\"\",telefono:\"\",email:\"\",fecha:\"\",hora:\"\",desc:\"\"}),_useState8=_slicedToArray(_useState7,2),appointment=_useState8[0],setAppointment=_useState8[1];useEffect(function(){var _user$first_name,_user$last_name,_user$phone,_user$email;setAppointment({nombre:(_user$first_name=user===null||user===void 0?void 0:user.first_name)!==null&&_user$first_name!==void 0?_user$first_name:\"\",apellidos:(_user$last_name=user===null||user===void 0?void 0:user.last_name)!==null&&_user$last_name!==void 0?_user$last_name:\"\",telefono:(_user$phone=user===null||user===void 0?void 0:user.phone)!==null&&_user$phone!==void 0?_user$phone:\"\",email:(_user$email=user===null||user===void 0?void 0:user.email)!==null&&_user$email!==void 0?_user$email:\"\",fecha:\"\",hora:\"\",desc:\"\"});},[user]);var handleChange=function handleChange(e){setAppointment(_objectSpread(_objectSpread({},appointment),{},_defineProperty({},e.target.name,e.target.value)));};var handleAlert=function handleAlert(msg,variant){setAlert(true);setAlertMsg(msg);setAlertVariant(variant);setTimeout(function(){setAlert(false);setAlertMsg(\"\");setAlertVariant(\"\");},3000);};var checkResponse=function checkResponse(res){if(res[1].status===400){handleAlert(res[0][\"message\"],\"danger\");}else{handleAlert(\"Cita agendada correctamente.\",\"success\");}};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _user$first_name2,_user$last_name2,_user$phone2,_user$email2;var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return APICitas.createCita({nombre:appointment[\"nombre\"],apellidos:appointment[\"apellidos\"],telefono:appointment[\"telefono\"],email:appointment[\"email\"],fecha:appointment[\"fecha\"],hora:appointment[\"hora\"],descripcion:appointment[\"desc\"]});case 2:res=_context.sent;setAppointment({nombre:(_user$first_name2=user===null||user===void 0?void 0:user.first_name)!==null&&_user$first_name2!==void 0?_user$first_name2:\"\",apellidos:(_user$last_name2=user===null||user===void 0?void 0:user.last_name)!==null&&_user$last_name2!==void 0?_user$last_name2:\"\",telefono:(_user$phone2=user===null||user===void 0?void 0:user.phone)!==null&&_user$phone2!==void 0?_user$phone2:\"\",email:(_user$email2=user===null||user===void 0?void 0:user.email)!==null&&_user$email2!==void 0?_user$email2:\"\",fecha:\"\",hora:\"\",desc:\"\"});// setHasLoaded(false);\ncheckResponse(res);case 5:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:styles.wrapper,children:/*#__PURE__*/_jsxs(Container,{className:styles.container,children:[/*#__PURE__*/_jsx(\"h1\",{className:styles.title,children:\"Reservar Cita\"}),/*#__PURE__*/_jsxs(Form,{children:[alert?Alerts(alertMsg,alertVariant,setAlert):null,/*#__PURE__*/_jsx(\"h2\",{className:styles.sectionSubtitle,children:\"Datos Personales\"}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formNombre\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Nombre\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"nombre\",placeholder:\"Ingresa tu nombre\",className:styles.input,value:appointment.nombre,onChange:handleChange,disabled:user?true:false})]})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formApellidos\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Apellidos\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"apellidos\",placeholder:\"Ingresa tus apellidos\",className:styles.input,value:appointment.apellidos,onChange:handleChange,disabled:user?true:false})]})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formTelefono\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Tel\\xE9fono\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"telefono\",placeholder:\"Ingresa tu n\\xFAmero de tel\\xE9fono\",className:styles.input,value:appointment.telefono,onChange:handleChange,disabled:user?true:false})]})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Correo electr\\xF3nico\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",name:\"email\",placeholder:\"Ingresa tu correo electr\\xF3nico\",className:styles.input,disabled:user?true:false,value:appointment.email,onChange:user?null:handleChange})]})})]}),/*#__PURE__*/_jsx(\"h2\",{className:styles.sectionSubtitle,children:\"Datos de la Cita\"}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formFecha\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Fecha de la Cita\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"date\",name:\"fecha\",className:styles.input,value:appointment.fecha,onChange:handleChange})]})}),/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Hora de la Cita\"}),/*#__PURE__*/_jsxs(Form.Control,{as:\"select\",name:\"hora\",className:styles.input,value:appointment.hora,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:-1,children:\"Seleccione la hora\"}),/*#__PURE__*/_jsx(\"option\",{children:\"10:00 am\"}),/*#__PURE__*/_jsx(\"option\",{children:\"11:00 am\"}),/*#__PURE__*/_jsx(\"option\",{children:\"12:00 pm\"}),/*#__PURE__*/_jsx(\"option\",{children:\"13:00 pm\"}),/*#__PURE__*/_jsx(\"option\",{children:\"14:00 pm\"}),/*#__PURE__*/_jsx(\"option\",{children:\"15:00 pm\"}),/*#__PURE__*/_jsx(\"option\",{children:\"16:00 pm\"}),/*#__PURE__*/_jsx(\"option\",{children:\"17:00 pm\"}),/*#__PURE__*/_jsx(\"option\",{children:\"18:00 pm\"})]})]})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formDesc\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Descripci\\xF3n o S\\xEDntomas\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",rows:3,name:\"desc\",value:appointment.desc,onChange:handleChange})]})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{className:\"d-flex justify-content-end\",children:[/*#__PURE__*/_jsx(Button,{variant:\"danger\",className:\"mr-3\",size:\"lg\",children:\"Cancelar\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",size:\"lg\",onClick:handleSubmit,children:\"Registrar\"})]})})]})]})});};export default AppointmentPage;","map":{"version":3,"sources":["C:/Users/ederivc/Documents/NEWHEROKU/frontend/src/pages/Citas/AppointmentPage.jsx"],"names":["React","useEffect","useState","Col","Container","Form","Row","Button","APICitas","useAuth","Alerts","styles","AppointmentPage","user","alert","setAlert","alertMsg","setAlertMsg","alertVariant","setAlertVariant","nombre","apellidos","telefono","email","fecha","hora","desc","appointment","setAppointment","first_name","last_name","phone","handleChange","e","target","name","value","handleAlert","msg","variant","setTimeout","checkResponse","res","status","handleSubmit","createCita","descripcion","wrapper","container","title","sectionSubtitle","input"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Col, Container, Form, Row, Button } from \"react-bootstrap\";\r\nimport { APICitas } from \"../../api/api\";\r\nimport useAuth from \"../../auth/useAuth\";\r\nimport { Alerts } from \"../../components/FormUtilities\";\r\nimport styles from \"./AppointmentPage.module.css\";\r\n\r\nconst AppointmentPage = () => {\r\n  const { user } = useAuth();\r\n  const [alert, setAlert] = useState();\r\n  const [alertMsg, setAlertMsg] = useState();\r\n  const [alertVariant, setAlertVariant] = useState();\r\n\r\n  const [appointment, setAppointment] = useState({\r\n    nombre: \"\",\r\n    apellidos: \"\",\r\n    telefono: \"\",\r\n    email: \"\",\r\n    fecha: \"\",\r\n    hora: \"\",\r\n    desc: \"\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    setAppointment({\r\n      nombre: user?.first_name ?? \"\",\r\n      apellidos: user?.last_name ?? \"\",\r\n      telefono: user?.phone ?? \"\",\r\n      email: user?.email ?? \"\",\r\n      fecha: \"\",\r\n      hora: \"\",\r\n      desc: \"\",\r\n    });\r\n  }, [user]);\r\n\r\n  const handleChange = (e) => {\r\n    setAppointment({\r\n      ...appointment,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleAlert = (msg, variant) => {\r\n    setAlert(true);\r\n    setAlertMsg(msg);\r\n    setAlertVariant(variant);\r\n    setTimeout(() => {\r\n      setAlert(false);\r\n      setAlertMsg(\"\");\r\n      setAlertVariant(\"\");\r\n    }, 3000);\r\n  };\r\n\r\n  const checkResponse = (res) => {\r\n    if (res[1].status === 400) {\r\n      handleAlert(res[0][\"message\"], \"danger\");\r\n    } else {\r\n      handleAlert(\"Cita agendada correctamente.\", \"success\");\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    const res = await APICitas.createCita({\r\n      nombre: appointment[\"nombre\"],\r\n      apellidos: appointment[\"apellidos\"],\r\n      telefono: appointment[\"telefono\"],\r\n      email: appointment[\"email\"],\r\n      fecha: appointment[\"fecha\"],\r\n      hora: appointment[\"hora\"],\r\n      descripcion: appointment[\"desc\"],\r\n    });\r\n    setAppointment({\r\n      nombre: user?.first_name ?? \"\",\r\n      apellidos: user?.last_name ?? \"\",\r\n      telefono: user?.phone ?? \"\",\r\n      email: user?.email ?? \"\",\r\n      fecha: \"\",\r\n      hora: \"\",\r\n      desc: \"\",\r\n    });\r\n    // setHasLoaded(false);\r\n    checkResponse(res);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <Container className={styles.container}>\r\n        <h1 className={styles.title}>Reservar Cita</h1>\r\n        <Form>\r\n          {alert ? Alerts(alertMsg, alertVariant, setAlert) : null}\r\n          <h2 className={styles.sectionSubtitle}>Datos Personales</h2>\r\n          <Row>\r\n            <Col>\r\n              <Form.Group controlId=\"formNombre\">\r\n                <Form.Label>Nombre</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  name=\"nombre\"\r\n                  placeholder=\"Ingresa tu nombre\"\r\n                  className={styles.input}\r\n                  value={appointment.nombre}\r\n                  onChange={handleChange}\r\n                  disabled={user ? true : false}\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n            <Col>\r\n              <Form.Group controlId=\"formApellidos\">\r\n                <Form.Label>Apellidos</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  name=\"apellidos\"\r\n                  placeholder=\"Ingresa tus apellidos\"\r\n                  className={styles.input}\r\n                  value={appointment.apellidos}\r\n                  onChange={handleChange}\r\n                  disabled={user ? true : false}\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n          </Row>\r\n          <Row>\r\n            <Col>\r\n              <Form.Group controlId=\"formTelefono\">\r\n                <Form.Label>Teléfono</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  name=\"telefono\"\r\n                  placeholder=\"Ingresa tu número de teléfono\"\r\n                  className={styles.input}\r\n                  value={appointment.telefono}\r\n                  onChange={handleChange}\r\n                  disabled={user ? true : false}\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n            <Col>\r\n              <Form.Group controlId=\"formEmail\">\r\n                <Form.Label>Correo electrónico</Form.Label>\r\n                <Form.Control\r\n                  type=\"email\"\r\n                  name=\"email\"\r\n                  placeholder=\"Ingresa tu correo electrónico\"\r\n                  className={styles.input}\r\n                  disabled={user ? true : false}\r\n                  value={appointment.email}\r\n                  onChange={user ? null : handleChange}\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n          </Row>\r\n          <h2 className={styles.sectionSubtitle}>Datos de la Cita</h2>\r\n          <Row>\r\n            <Col>\r\n              <Form.Group controlId=\"formFecha\">\r\n                <Form.Label>Fecha de la Cita</Form.Label>\r\n                <Form.Control\r\n                  type=\"date\"\r\n                  name=\"fecha\"\r\n                  className={styles.input}\r\n                  value={appointment.fecha}\r\n                  onChange={handleChange}\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n            <Col>\r\n              <Form.Label>Hora de la Cita</Form.Label>\r\n              <Form.Control\r\n                as=\"select\"\r\n                name=\"hora\"\r\n                className={styles.input}\r\n                value={appointment.hora}\r\n                onChange={handleChange}\r\n              >\r\n                <option value={-1}>Seleccione la hora</option>\r\n                <option>10:00 am</option>\r\n                <option>11:00 am</option>\r\n                <option>12:00 pm</option>\r\n                <option>13:00 pm</option>\r\n                <option>14:00 pm</option>\r\n                <option>15:00 pm</option>\r\n                <option>16:00 pm</option>\r\n                <option>17:00 pm</option>\r\n                <option>18:00 pm</option>\r\n                {/* {hasLoaded ? (\r\n                  Object.keys(dates).map((key) => (\r\n                    <option key={key}>\r\n                      {dates[key]\r\n                        .split(\" \")\r\n                        .slice(1)\r\n                        .toString()\r\n                        .replace(\",\", \" \")}\r\n                    </option>\r\n                  ))\r\n                ) : (\r\n                  <option>Loading...</option>\r\n                )} */}\r\n              </Form.Control>\r\n            </Col>\r\n          </Row>\r\n          <Row>\r\n            <Col>\r\n              <Form.Group className=\"mb-3\" controlId=\"formDesc\">\r\n                <Form.Label>Descripción o Síntomas</Form.Label>\r\n                <Form.Control\r\n                  as=\"textarea\"\r\n                  rows={3}\r\n                  name=\"desc\"\r\n                  value={appointment.desc}\r\n                  onChange={handleChange}\r\n                />\r\n              </Form.Group>\r\n            </Col>\r\n          </Row>\r\n          <Row>\r\n            <Col className=\"d-flex justify-content-end\">\r\n              <Button variant=\"danger\" className=\"mr-3\" size=\"lg\">\r\n                Cancelar\r\n              </Button>\r\n              <Button variant=\"primary\" size=\"lg\" onClick={handleSubmit}>\r\n                Registrar\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n        </Form>\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AppointmentPage;\r\n"]},"metadata":{},"sourceType":"module"}