{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/ederivc/Documents/NEWHEROKU/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/ederivc/Documents/NEWHEROKU/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/ederivc/Documents/NEWHEROKU/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from\"react\";import{Table,Col,Container,Row}from\"react-bootstrap\";import{IMG_URL}from\"../../../../api/api\";import{ProductInfo,NotFound}from\"../../../../components/AccountUtilities\";import styles from\"./Pedidos.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Pedidos=function Pedidos(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),pedidos=_useState2[0],setPedidos=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),hasLoaded=_useState4[0],setHasLoaded=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isEmpty=_useState6[0],setIsEmpty=_useState6[1];var fetchAppointments=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/pedidos/getPedidos\");case 2:response=_context.sent;_context.next=5;return response.json();case 5:json=_context.sent;setPedidos(json);setHasLoaded(true);Object.keys(json).length===0?setIsEmpty(true):setIsEmpty(false);console.log(json);case 10:case\"end\":return _context.stop();}}},_callee);}));return function fetchAppointments(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchAppointments();},[]);return/*#__PURE__*/_jsxs(Container,{fluid:true,className:styles.wrapper,children:[/*#__PURE__*/_jsx(\"h1\",{className:\"\".concat(styles.title,\" my-4\"),children:\"Pedidos\"}),hasLoaded&&!isEmpty?Object.keys(pedidos).map(function(i){return/*#__PURE__*/_jsxs(Row,{className:\"\".concat(styles.productRow,\" col-12 px-0\"),children:[/*#__PURE__*/_jsxs(Col,{md:6,className:\"\".concat(styles.infoContainer,\" p-2 pl-3\"),children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-center mb-3\",children:\"Informaci\\xF3n del Pedido\"}),/*#__PURE__*/_jsx(ProductInfo,{title:\"Pedido\",items:\"#\".concat(pedidos[i].pedido_id)}),/*#__PURE__*/_jsx(ProductInfo,{title:\"Fecha\",items:pedidos[i].date}),/*#__PURE__*/_jsx(ProductInfo,{title:\"Direcci\\xF3n de Env\\xEDo\",items:\"\".concat(pedidos[i].direccion,\" \").concat(pedidos[i].codigo_postal)}),/*#__PURE__*/_jsx(ProductInfo,{title:\"Total del Pedido\",items:\"$\".concat(pedidos[i].total)})]}),/*#__PURE__*/_jsxs(Col,{md:6,children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-center\",children:\"Estado del Pedido\"}),/*#__PURE__*/_jsxs(\"div\",{className:styles.icons,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(styles.iconContainer,\" \").concat(styles.iconRealizado),children:[/*#__PURE__*/_jsx(\"img\",{src:\"/img/box.svg\",className:pedidos[i].status===\"Realizado\"?styles.imgRealizado:null,alt:\"box\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center\",children:\"Realizado\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.iconContainer,children:[/*#__PURE__*/_jsx(\"img\",{className:pedidos[i].status===\"Enviado\"?styles.imgEnviado:null,style:{backgroundColor:\"red !important\"},src:\"/img/enviado.svg\",alt:\"enviado\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center\",children:\"Enviado\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.iconContainer,children:[/*#__PURE__*/_jsx(\"img\",{src:\"/img/entregado.svg\",alt:\"entregado\",className:pedidos[i].status===\"Entregado\"?styles.imgEntregado:null}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center\",children:\"Entregado\"})]})]})]}),/*#__PURE__*/_jsx(Col,{className:\"mt-2\",children:/*#__PURE__*/_jsxs(Table,{striped:true,hover:true,responsive:true,children:[/*#__PURE__*/_jsx(\"thead\",{className:styles.tableHead,children:/*#__PURE__*/_jsxs(\"tr\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID del producto\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Nombre\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Descripcion\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Im\\xE1gen\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Precio\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Art\\xEDculos Comprados\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Marca\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"text-center\",children:pedidos[i].products.map(function(producto){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:producto.product_id}),/*#__PURE__*/_jsx(\"td\",{children:producto.name}),/*#__PURE__*/_jsx(\"td\",{children:producto.descripcion}),/*#__PURE__*/_jsx(\"td\",{className:styles.imgCont,children:/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(IMG_URL).concat(producto.img),alt:producto.name})}),/*#__PURE__*/_jsx(\"td\",{children:producto.price}),/*#__PURE__*/_jsx(\"td\",{children:producto.totalNum}),/*#__PURE__*/_jsx(\"td\",{children:producto.marca})]});})})]})})]},pedidos[i].pedido_id);}):/*#__PURE__*/_jsx(NotFound,{title:\"Sin Pedidos \\uD83D\\uDE14\",text:\"A\\xFAn no cuentas con ning\\xFAn pedido, dirigete a la secci\\xF3n de productos para realizar tu primera compra \\uD83D\\uDE00\"})]});};export default Pedidos;","map":{"version":3,"sources":["C:/Users/ederivc/Documents/NEWHEROKU/frontend/src/pages/AccountPage/User/Pedidos/Pedidos.jsx"],"names":["useEffect","useState","Table","Col","Container","Row","IMG_URL","ProductInfo","NotFound","styles","Pedidos","pedidos","setPedidos","hasLoaded","setHasLoaded","isEmpty","setIsEmpty","fetchAppointments","fetch","response","json","Object","keys","length","console","log","wrapper","title","map","i","productRow","infoContainer","pedido_id","date","direccion","codigo_postal","total","icons","iconContainer","iconRealizado","status","imgRealizado","imgEnviado","backgroundColor","imgEntregado","tableHead","products","producto","product_id","name","descripcion","imgCont","img","price","totalNum","marca"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { Table, Col, Container, Row } from \"react-bootstrap\";\r\nimport { IMG_URL } from \"../../../../api/api\";\r\nimport { ProductInfo, NotFound } from \"../../../../components/AccountUtilities\";\r\n\r\nimport styles from \"./Pedidos.module.css\";\r\n\r\nconst Pedidos = () => {\r\n  const [pedidos, setPedidos] = useState();\r\n  const [hasLoaded, setHasLoaded] = useState(false);\r\n  const [isEmpty, setIsEmpty] = useState(false);\r\n\r\n  const fetchAppointments = async () => {\r\n    const response = await fetch(\"/pedidos/getPedidos\");\r\n    const json = await response.json();\r\n    setPedidos(json);\r\n    setHasLoaded(true);\r\n\r\n    Object.keys(json).length === 0 ? setIsEmpty(true) : setIsEmpty(false);\r\n\r\n    console.log(json);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchAppointments();\r\n  }, []);\r\n\r\n  return (\r\n    <Container fluid className={styles.wrapper}>\r\n      <h1 className={`${styles.title} my-4`}>Pedidos</h1>\r\n      {hasLoaded && !isEmpty ? (\r\n        Object.keys(pedidos).map((i) => {\r\n          return (\r\n            <Row\r\n              className={`${styles.productRow} col-12 px-0`}\r\n              key={pedidos[i].pedido_id}\r\n            >\r\n              <Col md={6} className={`${styles.infoContainer} p-2 pl-3`}>\r\n                <h3 className=\"text-center mb-3\">Información del Pedido</h3>\r\n                <ProductInfo\r\n                  title=\"Pedido\"\r\n                  items={`#${pedidos[i].pedido_id}`}\r\n                />\r\n                <ProductInfo title=\"Fecha\" items={pedidos[i].date} />\r\n                <ProductInfo\r\n                  title=\"Dirección de Envío\"\r\n                  items={`${pedidos[i].direccion} ${pedidos[i].codigo_postal}`}\r\n                />\r\n                <ProductInfo\r\n                  title=\"Total del Pedido\"\r\n                  items={`$${pedidos[i].total}`}\r\n                />\r\n              </Col>\r\n              <Col md={6}>\r\n                <h3 className=\"text-center\">Estado del Pedido</h3>\r\n                <div className={styles.icons}>\r\n                  <div\r\n                    className={`${styles.iconContainer} ${styles.iconRealizado}`}\r\n                  >\r\n                    <img\r\n                      src=\"/img/box.svg\"\r\n                      className={\r\n                        pedidos[i].status === \"Realizado\"\r\n                          ? styles.imgRealizado\r\n                          : null\r\n                      }\r\n                      alt=\"box\"\r\n                    ></img>\r\n                    <p className=\"text-center\">Realizado</p>\r\n                  </div>\r\n                  <div className={styles.iconContainer}>\r\n                    <img\r\n                      className={\r\n                        pedidos[i].status === \"Enviado\"\r\n                          ? styles.imgEnviado\r\n                          : null\r\n                      }\r\n                      style={{ backgroundColor: \"red !important\" }}\r\n                      src=\"/img/enviado.svg\"\r\n                      alt=\"enviado\"\r\n                    />\r\n                    <p className=\"text-center\">Enviado</p>\r\n                  </div>\r\n                  <div className={styles.iconContainer}>\r\n                    <img\r\n                      src=\"/img/entregado.svg\"\r\n                      alt=\"entregado\"\r\n                      className={\r\n                        pedidos[i].status === \"Entregado\"\r\n                          ? styles.imgEntregado\r\n                          : null\r\n                      }\r\n                    />\r\n                    <p className=\"text-center\">Entregado</p>\r\n                  </div>\r\n                </div>\r\n              </Col>\r\n              <Col className=\"mt-2\">\r\n                <Table striped hover responsive>\r\n                  <thead className={styles.tableHead}>\r\n                    <tr className=\"text-center\">\r\n                      <th>ID del producto</th>\r\n                      <th>Nombre</th>\r\n                      <th>Descripcion</th>\r\n                      <th>Imágen</th>\r\n                      <th>Precio</th>\r\n                      <th>Artículos Comprados</th>\r\n                      <th>Marca</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody className=\"text-center\">\r\n                    {pedidos[i].products.map((producto) => {\r\n                      return (\r\n                        <tr>\r\n                          <td>{producto.product_id}</td>\r\n                          <td>{producto.name}</td>\r\n                          <td>{producto.descripcion}</td>\r\n                          <td className={styles.imgCont}>\r\n                            <img\r\n                              src={`${IMG_URL}${producto.img}`}\r\n                              alt={producto.name}\r\n                            ></img>\r\n                          </td>\r\n                          <td>{producto.price}</td>\r\n                          <td>{producto.totalNum}</td>\r\n                          <td>{producto.marca}</td>\r\n                        </tr>\r\n                      );\r\n                    })}\r\n                  </tbody>\r\n                </Table>\r\n              </Col>\r\n            </Row>\r\n          );\r\n        })\r\n      ) : (\r\n        <NotFound\r\n          title=\"Sin Pedidos 😔\"\r\n          text=\"Aún no cuentas con ningún pedido, dirigete a la sección de productos para realizar tu primera compra 😀\"\r\n        />\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Pedidos;\r\n"]},"metadata":{},"sourceType":"module"}