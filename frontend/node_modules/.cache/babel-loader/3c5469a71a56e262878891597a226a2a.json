{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/ederivc/Documents/NEWHEROKU/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/ederivc/Documents/NEWHEROKU/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"C:/Users/ederivc/Documents/NEWHEROKU/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/ederivc/Documents/NEWHEROKU/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/ederivc/Documents/NEWHEROKU/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useRef,useState}from\"react\";import{Alert,Button,Form,Modal}from\"react-bootstrap\";import{APICitas,APIProducts,IMG_URL}from\"../api/api\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Alerts=function Alerts(message,variant){return/*#__PURE__*/_jsx(Alert,{variant:variant,children:message});};var CustomModal=function CustomModal(_ref){var show=_ref.show,handleClose=_ref.handleClose,appointments=_ref.appointments,pickAppointment=_ref.pickAppointment,setAlert=_ref.setAlert,setAlertMsg=_ref.setAlertMsg,setAlertVariant=_ref.setAlertVariant;var _useState=useState(),_useState2=_slicedToArray(_useState,2),dates=_useState2[0],setDates=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),hasLoaded=_useState4[0],setHasLoaded=_useState4[1];var isMountedRef=useRef(true);var _useState5=useState({fecha:pickAppointment.appointment_date.split(\" \")[0],hora:pickAppointment.appointment_date.split(\" \").slice(1).toString().replace(\",\",\" \"),desc:pickAppointment.descripcion}),_useState6=_slicedToArray(_useState5,2),formData=_useState6[0],setFormData=_useState6[1];var handleChange=function handleChange(e){setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value)));};var handleAlert=function handleAlert(msg,variant){setAlert(true);setAlertMsg(msg);setAlertVariant(variant);setTimeout(function(){setAlert(false);setAlertMsg(\"\");setAlertVariant(\"\");},3000);handleClose();};var checkResponse=function checkResponse(res){console.log(res);if(res[1].status===400){handleAlert(res[0][\"message\"],\"danger\");}else{handleAlert(\"Cita modificada correctamente.\",\"success\");}};var updateAppointment=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return APICitas.updateCita({fecha:formData.fecha,hora:formData.hora,descripcion:formData.desc,appointmentId:pickAppointment.appointment_id});case 2:res=_context.sent;checkResponse(res);case 4:case\"end\":return _context.stop();}}},_callee);}));return function updateAppointment(){return _ref2.apply(this,arguments);};}();var getCitas=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return APICitas.getDates();case 2:res=_context2.sent;if(isMountedRef.current){setDates(res);setHasLoaded(true);}case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function getCitas(){return _ref3.apply(this,arguments);};}();useEffect(function(){getCitas();return function(){// setDates({});\n// setHasLoaded({});\nisMountedRef.current=false;};},[]);return/*#__PURE__*/_jsxs(Modal,{show:show,onHide:handleClose,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Editar cita\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formFecha\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Fecha\"}),/*#__PURE__*/_jsx(Form.Control,{value:formData.fecha,onChange:handleChange,name:\"fecha\",type:\"date\",placeholder:\"Fecha\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicCheckbox\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Hora de la Cita\"}),/*#__PURE__*/_jsxs(Form.Control,{as:\"select\",name:\"hora\",value:formData.hora,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{disabled:true,value:-1,children:pickAppointment.appointment_date.split(\" \").slice(1).toString().replace(\",\",\" \")}),/*#__PURE__*/_jsx(\"option\",{children:\"10:00 am\"}),/*#__PURE__*/_jsx(\"option\",{children:\"11:00 am\"}),/*#__PURE__*/_jsx(\"option\",{children:\"12:00 pm\"}),/*#__PURE__*/_jsx(\"option\",{children:\"13:00 pm\"}),/*#__PURE__*/_jsx(\"option\",{children:\"14:00 pm\"}),/*#__PURE__*/_jsx(\"option\",{children:\"15:00 pm\"}),/*#__PURE__*/_jsx(\"option\",{children:\"16:00 pm\"}),/*#__PURE__*/_jsx(\"option\",{children:\"17:00 pm\"}),/*#__PURE__*/_jsx(\"option\",{children:\"18:00 pm\"})]})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formDesc\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Desccripci\\xF3n\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",placeholder:\"Descripci\\xF3n\",name:\"desc\",value:formData.desc,onChange:handleChange})]})]})}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleClose,children:\"Cancelar\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:updateAppointment,children:\"Editar\"})]})]});};var ModalDelete=function ModalDelete(_ref4){var show=_ref4.show,handleClose=_ref4.handleClose,pickAppointment=_ref4.pickAppointment,setAlert=_ref4.setAlert,setAlertMsg=_ref4.setAlertMsg,setAlertVariant=_ref4.setAlertVariant;var handleAlert=function handleAlert(msg,variant){setAlert(true);setAlertMsg(msg);setAlertVariant(variant);setTimeout(function(){setAlert(false);setAlertMsg(\"\");setAlertVariant(\"\");},3000);handleClose();};var checkResponse=function checkResponse(res){console.log(res);if(res[1].status===400){handleAlert(res[0][\"message\"],\"danger\");}else{handleAlert(\"Cita eliminada correctamente.\",\"success\");}};var handleDelete=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return APICitas.deleteCita({appointment:pickAppointment});case 2:res=_context3.sent;checkResponse(res);case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function handleDelete(){return _ref5.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Modal,{show:show,onHide:handleClose,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Eliminar Cita\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:\"\\xBFEst\\xE1 seguro que desea eliminar la cita con fecha: \".concat(pickAppointment.appointment_date.split(\" \")[0],\" y hora: \").concat(pickAppointment.appointment_date.split(\" \").slice(1).toString().replace(\",\",\" \"),\"?\")}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleClose,children:\"Cancelar\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleDelete,children:\"Eliminar\"})]})]});};var ModalUpdate=function ModalUpdate(_ref6){var show=_ref6.show,handleClose=_ref6.handleClose,selectedProduct=_ref6.selectedProduct,setAlert=_ref6.setAlert,setAlertMsg=_ref6.setAlertMsg,setAlertVariant=_ref6.setAlertVariant;var _useState7=useState({name:selectedProduct.name,cantidad:selectedProduct.cantidad,price:selectedProduct.price,descripcion:selectedProduct.descripcion,marca:selectedProduct.marca}),_useState8=_slicedToArray(_useState7,2),formProduct=_useState8[0],setFormProduct=_useState8[1];var _useState9=useState(selectedProduct.img),_useState10=_slicedToArray(_useState9,2),fileName=_useState10[0],setFileName=_useState10[1];var _useState11=useState(\"\".concat(IMG_URL).concat(selectedProduct.img)),_useState12=_slicedToArray(_useState11,2),selectedFile=_useState12[0],setSelectedFile=_useState12[1];var handleChange=function handleChange(e){setFormProduct(_objectSpread(_objectSpread({},formProduct),{},_defineProperty({},e.target.name,e.target.value)));};var handleFileChange=function handleFileChange(e){var _e$target$files=_slicedToArray(e.target.files,1),file=_e$target$files[0];setFileName(file.name);var reader=new FileReader();reader.onloadend=function(){setSelectedFile(reader.result);};reader.readAsDataURL(file);};var handleAlert=function handleAlert(msg,variant){setAlert(true);setAlertMsg(msg);setAlertVariant(variant);setTimeout(function(){setAlert(false);setAlertMsg(\"\");setAlertVariant(\"\");},3000);handleClose();};var checkResponse=function checkResponse(res){if(res[1].status===400){handleAlert(res[0][\"message\"],\"danger\");}else{handleAlert(\"Cita modificada correctamente.\",\"success\");}};var updateProduct=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var res;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return APIProducts.updateProduct({id:selectedProduct.product_id,name:formProduct.name,cantidad:formProduct.cantidad,price:formProduct.price,descripcion:formProduct.descripcion,marca:formProduct.marca,imgName:fileName,img:selectedFile});case 2:res=_context4.sent;checkResponse(res);case 4:case\"end\":return _context4.stop();}}},_callee4);}));return function updateProduct(){return _ref7.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Modal,{show:show,onHide:handleClose,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Editar Producto\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formNombre\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Nombre del Producto\"}),/*#__PURE__*/_jsx(Form.Control,{value:formProduct.name,onChange:handleChange,name:\"name\",type:\"text\",placeholder:\"Nombre del Producto\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formMarca\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Marca del Producto\"}),/*#__PURE__*/_jsx(Form.Control,{value:formProduct.marca,onChange:handleChange,name:\"marca\",type:\"text\",placeholder:\"Marca del Producto\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formPrice\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Precio del Producto\"}),/*#__PURE__*/_jsx(Form.Control,{value:formProduct.price,onChange:handleChange,name:\"price\",type:\"text\",placeholder:\"Precio del Producto\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formCantidad\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Stock del Producto\"}),/*#__PURE__*/_jsx(Form.Control,{value:formProduct.cantidad,onChange:handleChange,name:\"cantidad\",type:\"text\",placeholder:\"Stock del Producto\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formDesc\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Descripci\\xF3n\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",placeholder:\"Descripci\\xF3n\",name:\"descripcion\",value:formProduct.descripcion,onChange:handleChange})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formImagen\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Im\\xE1gen del Producto\"}),/*#__PURE__*/_jsx(Form.File,{custom:true,label:fileName,\"data-browse\":\"Seleccionar\",onChange:handleFileChange,accept:\"image/*\"}),/*#__PURE__*/_jsx(\"img\",{className:\"img-fluid mt-2\",src:\"\".concat(selectedFile),alt:\"product-view\"})]})]})}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleClose,children:\"Cancelar\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:updateProduct,children:\"Editar\"})]})]});};var ModalDeleteProduct=function ModalDeleteProduct(_ref8){var show=_ref8.show,handleClose=_ref8.handleClose,selectedProduct=_ref8.selectedProduct,setAlert=_ref8.setAlert,setAlertMsg=_ref8.setAlertMsg,setAlertVariant=_ref8.setAlertVariant;var handleAlert=function handleAlert(msg,variant){setAlert(true);setAlertMsg(msg);setAlertVariant(variant);setTimeout(function(){setAlert(false);setAlertMsg(\"\");setAlertVariant(\"\");},3000);handleClose();};var checkResponse=function checkResponse(res){console.log(res);if(res[1].status===400){handleAlert(res[0][\"message\"],\"danger\");}else{handleAlert(\"Producto eliminado correctamente.\",\"success\");}};var handleDelete=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var res;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return APIProducts.deleteProduct({product:selectedProduct});case 2:res=_context5.sent;checkResponse(res);case 4:case\"end\":return _context5.stop();}}},_callee5);}));return function handleDelete(){return _ref9.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Modal,{show:show,onHide:handleClose,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Eliminar Producto\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:\"\\xBFEst\\xE1 seguro que desea eliminar el producto: \".concat(selectedProduct.name,\"?\")}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleClose,children:\"Cancelar\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleDelete,children:\"Eliminar\"})]})]});};export{Alerts,CustomModal,ModalDelete,ModalUpdate,ModalDeleteProduct};","map":{"version":3,"sources":["C:/Users/ederivc/Documents/NEWHEROKU/frontend/src/components/FormUtilities.jsx"],"names":["useEffect","useRef","useState","Alert","Button","Form","Modal","APICitas","APIProducts","IMG_URL","Alerts","message","variant","CustomModal","show","handleClose","appointments","pickAppointment","setAlert","setAlertMsg","setAlertVariant","dates","setDates","hasLoaded","setHasLoaded","isMountedRef","fecha","appointment_date","split","hora","slice","toString","replace","desc","descripcion","formData","setFormData","handleChange","e","target","name","value","handleAlert","msg","setTimeout","checkResponse","res","console","log","status","updateAppointment","updateCita","appointmentId","appointment_id","getCitas","getDates","current","ModalDelete","handleDelete","deleteCita","appointment","ModalUpdate","selectedProduct","cantidad","price","marca","formProduct","setFormProduct","img","fileName","setFileName","selectedFile","setSelectedFile","handleFileChange","files","file","reader","FileReader","onloadend","result","readAsDataURL","updateProduct","id","product_id","imgName","ModalDeleteProduct","deleteProduct","product"],"mappings":"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","sourcesContent":["import { useEffect, useRef, useState } from \"react\";\r\nimport { Alert, Button, Form, Modal } from \"react-bootstrap\";\r\nimport { APICitas, APIProducts, IMG_URL } from \"../api/api\";\r\n\r\nconst Alerts = (message, variant) => {\r\n  return <Alert variant={variant}>{message}</Alert>;\r\n};\r\n\r\nconst CustomModal = ({\r\n  show,\r\n  handleClose,\r\n  appointments,\r\n  pickAppointment,\r\n  setAlert,\r\n  setAlertMsg,\r\n  setAlertVariant,\r\n}) => {\r\n  const [dates, setDates] = useState();\r\n  const [hasLoaded, setHasLoaded] = useState();\r\n  const isMountedRef = useRef(true);\r\n\r\n  const [formData, setFormData] = useState({\r\n    fecha: pickAppointment.appointment_date.split(\" \")[0],\r\n    hora: pickAppointment.appointment_date\r\n      .split(\" \")\r\n      .slice(1)\r\n      .toString()\r\n      .replace(\",\", \" \"),\r\n    desc: pickAppointment.descripcion,\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({\r\n      ...formData,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleAlert = (msg, variant) => {\r\n    setAlert(true);\r\n    setAlertMsg(msg);\r\n    setAlertVariant(variant);\r\n    setTimeout(() => {\r\n      setAlert(false);\r\n      setAlertMsg(\"\");\r\n      setAlertVariant(\"\");\r\n    }, 3000);\r\n    handleClose();\r\n  };\r\n\r\n  const checkResponse = (res) => {\r\n    console.log(res);\r\n    if (res[1].status === 400) {\r\n      handleAlert(res[0][\"message\"], \"danger\");\r\n    } else {\r\n      handleAlert(\"Cita modificada correctamente.\", \"success\");\r\n    }\r\n  };\r\n\r\n  const updateAppointment = async () => {\r\n    const res = await APICitas.updateCita({\r\n      fecha: formData.fecha,\r\n      hora: formData.hora,\r\n      descripcion: formData.desc,\r\n      appointmentId: pickAppointment.appointment_id,\r\n    });\r\n    checkResponse(res);\r\n  };\r\n\r\n  const getCitas = async () => {\r\n    const res = await APICitas.getDates();\r\n    if (isMountedRef.current) {\r\n      setDates(res);\r\n      setHasLoaded(true);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getCitas();\r\n    return () => {\r\n      // setDates({});\r\n      // setHasLoaded({});\r\n      isMountedRef.current = false;\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <Modal show={show} onHide={handleClose}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Editar cita</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <Form>\r\n          <Form.Group className=\"mb-3\" controlId=\"formFecha\">\r\n            <Form.Label>Fecha</Form.Label>\r\n            <Form.Control\r\n              value={formData.fecha}\r\n              onChange={handleChange}\r\n              name=\"fecha\"\r\n              type=\"date\"\r\n              placeholder=\"Fecha\"\r\n            />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"formBasicCheckbox\">\r\n            <Form.Label>Hora de la Cita</Form.Label>\r\n            <Form.Control\r\n              as=\"select\"\r\n              name=\"hora\"\r\n              value={formData.hora}\r\n              onChange={handleChange}\r\n            >\r\n              <option disabled value={-1}>\r\n                {pickAppointment.appointment_date\r\n                  .split(\" \")\r\n                  .slice(1)\r\n                  .toString()\r\n                  .replace(\",\", \" \")}\r\n              </option>\r\n              <option>10:00 am</option>\r\n              <option>11:00 am</option>\r\n              <option>12:00 pm</option>\r\n              <option>13:00 pm</option>\r\n              <option>14:00 pm</option>\r\n              <option>15:00 pm</option>\r\n              <option>16:00 pm</option>\r\n              <option>17:00 pm</option>\r\n              <option>18:00 pm</option>\r\n            </Form.Control>\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"formDesc\">\r\n            <Form.Label>Desccripción</Form.Label>\r\n            <Form.Control\r\n              as=\"textarea\"\r\n              placeholder=\"Descripción\"\r\n              name=\"desc\"\r\n              value={formData.desc}\r\n              onChange={handleChange}\r\n            />\r\n          </Form.Group>\r\n        </Form>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button variant=\"secondary\" onClick={handleClose}>\r\n          Cancelar\r\n        </Button>\r\n        <Button variant=\"primary\" onClick={updateAppointment}>\r\n          Editar\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nconst ModalDelete = ({\r\n  show,\r\n  handleClose,\r\n  pickAppointment,\r\n  setAlert,\r\n  setAlertMsg,\r\n  setAlertVariant,\r\n}) => {\r\n  const handleAlert = (msg, variant) => {\r\n    setAlert(true);\r\n    setAlertMsg(msg);\r\n    setAlertVariant(variant);\r\n    setTimeout(() => {\r\n      setAlert(false);\r\n      setAlertMsg(\"\");\r\n      setAlertVariant(\"\");\r\n    }, 3000);\r\n    handleClose();\r\n  };\r\n\r\n  const checkResponse = (res) => {\r\n    console.log(res);\r\n    if (res[1].status === 400) {\r\n      handleAlert(res[0][\"message\"], \"danger\");\r\n    } else {\r\n      handleAlert(\"Cita eliminada correctamente.\", \"success\");\r\n    }\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    const res = await APICitas.deleteCita({\r\n      appointment: pickAppointment,\r\n    });\r\n    checkResponse(res);\r\n  };\r\n\r\n  return (\r\n    <Modal show={show} onHide={handleClose}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Eliminar Cita</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>{`¿Está seguro que desea eliminar la cita con fecha: ${\r\n        pickAppointment.appointment_date.split(\" \")[0]\r\n      } y hora: ${pickAppointment.appointment_date\r\n        .split(\" \")\r\n        .slice(1)\r\n        .toString()\r\n        .replace(\",\", \" \")}?`}</Modal.Body>\r\n      <Modal.Footer>\r\n        <Button variant=\"secondary\" onClick={handleClose}>\r\n          Cancelar\r\n        </Button>\r\n        <Button variant=\"primary\" onClick={handleDelete}>\r\n          Eliminar\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nconst ModalUpdate = ({\r\n  show,\r\n  handleClose,\r\n  selectedProduct,\r\n  setAlert,\r\n  setAlertMsg,\r\n  setAlertVariant,\r\n}) => {\r\n  const [formProduct, setFormProduct] = useState({\r\n    name: selectedProduct.name,\r\n    cantidad: selectedProduct.cantidad,\r\n    price: selectedProduct.price,\r\n    descripcion: selectedProduct.descripcion,\r\n    marca: selectedProduct.marca,\r\n  });\r\n\r\n  const [fileName, setFileName] = useState(selectedProduct.img);\r\n  const [selectedFile, setSelectedFile] = useState(\r\n    `${IMG_URL}${selectedProduct.img}`\r\n  );\r\n\r\n  const handleChange = (e) => {\r\n    setFormProduct({\r\n      ...formProduct,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    const [file] = e.target.files;\r\n    setFileName(file.name);\r\n\r\n    const reader = new FileReader();\r\n    reader.onloadend = () => {\r\n      setSelectedFile(reader.result);\r\n    };\r\n    reader.readAsDataURL(file);\r\n  };\r\n\r\n  const handleAlert = (msg, variant) => {\r\n    setAlert(true);\r\n    setAlertMsg(msg);\r\n    setAlertVariant(variant);\r\n    setTimeout(() => {\r\n      setAlert(false);\r\n      setAlertMsg(\"\");\r\n      setAlertVariant(\"\");\r\n    }, 3000);\r\n    handleClose();\r\n  };\r\n\r\n  const checkResponse = (res) => {\r\n    if (res[1].status === 400) {\r\n      handleAlert(res[0][\"message\"], \"danger\");\r\n    } else {\r\n      handleAlert(\"Cita modificada correctamente.\", \"success\");\r\n    }\r\n  };\r\n\r\n  const updateProduct = async () => {\r\n    const res = await APIProducts.updateProduct({\r\n      id: selectedProduct.product_id,\r\n      name: formProduct.name,\r\n      cantidad: formProduct.cantidad,\r\n      price: formProduct.price,\r\n      descripcion: formProduct.descripcion,\r\n      marca: formProduct.marca,\r\n      imgName: fileName,\r\n      img: selectedFile,\r\n    });\r\n    checkResponse(res);\r\n  };\r\n\r\n  return (\r\n    <Modal show={show} onHide={handleClose}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Editar Producto</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <Form>\r\n          <Form.Group className=\"mb-3\" controlId=\"formNombre\">\r\n            <Form.Label>Nombre del Producto</Form.Label>\r\n            <Form.Control\r\n              value={formProduct.name}\r\n              onChange={handleChange}\r\n              name=\"name\"\r\n              type=\"text\"\r\n              placeholder=\"Nombre del Producto\"\r\n            />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"formMarca\">\r\n            <Form.Label>Marca del Producto</Form.Label>\r\n            <Form.Control\r\n              value={formProduct.marca}\r\n              onChange={handleChange}\r\n              name=\"marca\"\r\n              type=\"text\"\r\n              placeholder=\"Marca del Producto\"\r\n            />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"formPrice\">\r\n            <Form.Label>Precio del Producto</Form.Label>\r\n            <Form.Control\r\n              value={formProduct.price}\r\n              onChange={handleChange}\r\n              name=\"price\"\r\n              type=\"text\"\r\n              placeholder=\"Precio del Producto\"\r\n            />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"formCantidad\">\r\n            <Form.Label>Stock del Producto</Form.Label>\r\n            <Form.Control\r\n              value={formProduct.cantidad}\r\n              onChange={handleChange}\r\n              name=\"cantidad\"\r\n              type=\"text\"\r\n              placeholder=\"Stock del Producto\"\r\n            />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"formDesc\">\r\n            <Form.Label>Descripción</Form.Label>\r\n            <Form.Control\r\n              as=\"textarea\"\r\n              placeholder=\"Descripción\"\r\n              name=\"descripcion\"\r\n              value={formProduct.descripcion}\r\n              onChange={handleChange}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"formImagen\">\r\n            <Form.Label>Imágen del Producto</Form.Label>\r\n            <Form.File\r\n              custom\r\n              label={fileName}\r\n              data-browse=\"Seleccionar\"\r\n              onChange={handleFileChange}\r\n              accept=\"image/*\"\r\n            ></Form.File>\r\n            <img\r\n              className=\"img-fluid mt-2\"\r\n              src={`${selectedFile}`}\r\n              alt=\"product-view\"\r\n            ></img>\r\n          </Form.Group>\r\n        </Form>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button variant=\"secondary\" onClick={handleClose}>\r\n          Cancelar\r\n        </Button>\r\n        <Button variant=\"primary\" onClick={updateProduct}>\r\n          Editar\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nconst ModalDeleteProduct = ({\r\n  show,\r\n  handleClose,\r\n  selectedProduct,\r\n  setAlert,\r\n  setAlertMsg,\r\n  setAlertVariant,\r\n}) => {\r\n  const handleAlert = (msg, variant) => {\r\n    setAlert(true);\r\n    setAlertMsg(msg);\r\n    setAlertVariant(variant);\r\n    setTimeout(() => {\r\n      setAlert(false);\r\n      setAlertMsg(\"\");\r\n      setAlertVariant(\"\");\r\n    }, 3000);\r\n    handleClose();\r\n  };\r\n\r\n  const checkResponse = (res) => {\r\n    console.log(res);\r\n    if (res[1].status === 400) {\r\n      handleAlert(res[0][\"message\"], \"danger\");\r\n    } else {\r\n      handleAlert(\"Producto eliminado correctamente.\", \"success\");\r\n    }\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    const res = await APIProducts.deleteProduct({\r\n      product: selectedProduct,\r\n    });\r\n    checkResponse(res);\r\n  };\r\n\r\n  return (\r\n    <Modal show={show} onHide={handleClose}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Eliminar Producto</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>{`¿Está seguro que desea eliminar el producto: ${selectedProduct.name}?`}</Modal.Body>\r\n      <Modal.Footer>\r\n        <Button variant=\"secondary\" onClick={handleClose}>\r\n          Cancelar\r\n        </Button>\r\n        <Button variant=\"primary\" onClick={handleDelete}>\r\n          Eliminar\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport { Alerts, CustomModal, ModalDelete, ModalUpdate, ModalDeleteProduct };\r\n"]},"metadata":{},"sourceType":"module"}