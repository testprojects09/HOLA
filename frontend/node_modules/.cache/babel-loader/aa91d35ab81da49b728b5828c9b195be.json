{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ederivc\\\\Documents\\\\NEWHEROKU\\\\frontend\\\\src\\\\pages\\\\AccountPage\\\\Admin\\\\Gestion\\\\Pedidos\\\\GestionPedidosUtilitites.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { Button, Form, Modal, Table } from \"react-bootstrap\";\nimport { APIPedidos, IMG_URL } from \"../../../../../api/api\";\nimport styles from \"./GestionarPedidos.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ModalUpdate = ({\n  show,\n  handleClose,\n  selectedPedido,\n  setAlert,\n  setAlertMsg,\n  setAlertVariant\n}) => {\n  _s();\n\n  const [formPedido, setFormPedido] = useState({\n    products: selectedPedido.products,\n    status: selectedPedido.status\n  });\n\n  const handleChange = e => {\n    setFormPedido({ ...formPedido,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleAlert = (msg, variant) => {\n    setAlert(true);\n    setAlertMsg(msg);\n    setAlertVariant(variant);\n    setTimeout(() => {\n      setAlert(false);\n      setAlertMsg(\"\");\n      setAlertVariant(\"\");\n    }, 3000);\n    handleClose();\n  };\n\n  const checkResponse = res => {\n    if (res[1].status === 400) {\n      handleAlert(res[0][\"message\"], \"danger\");\n    } else {\n      handleAlert(\"Pedido modificado correctamente.\", \"success\");\n    }\n  };\n\n  const updatePedido = async () => {\n    const res = await APIPedidos.updatePedido({\n      id: selectedPedido.pedido_id,\n      status: formPedido.status\n    });\n    checkResponse(res);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    show: show,\n    onHide: handleClose,\n    children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n      closeButton: true,\n      children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n        children: \"Editar Pedido\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        children: [/*#__PURE__*/_jsxDEV(Table, {\n          striped: true,\n          hover: true,\n          responsive: true,\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: styles.tableHead,\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Nombre\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Cantidad\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Im\\xE1gen\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: selectedPedido.products.map(item => {\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"text-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: item.product_id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: item.totalNum\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 76,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: styles.imgCont,\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: `${IMG_URL}${item.img}`,\n                    alt: item.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 78,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 77,\n                  columnNumber: 21\n                }, this)]\n              }, item.product_id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"formStatus\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Status del Usuario\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            as: \"select\",\n            value: formPedido.status,\n            onChange: handleChange,\n            name: \"status\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              disabled: true,\n              value: -1,\n              children: [\"Status actual: \", selectedPedido.status]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Realizado\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Enviado\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Entregado\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"secondary\",\n        onClick: handleClose,\n        children: \"Cancelar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        onClick: updatePedido,\n        children: \"Editar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ModalUpdate, \"xTZwVphGNMU4CIhsozDbV6njWf0=\");\n\n_c = ModalUpdate;\nexport { ModalUpdate };\n\nvar _c;\n\n$RefreshReg$(_c, \"ModalUpdate\");","map":{"version":3,"sources":["C:/Users/ederivc/Documents/NEWHEROKU/frontend/src/pages/AccountPage/Admin/Gestion/Pedidos/GestionPedidosUtilitites.jsx"],"names":["useState","Button","Form","Modal","Table","APIPedidos","IMG_URL","styles","ModalUpdate","show","handleClose","selectedPedido","setAlert","setAlertMsg","setAlertVariant","formPedido","setFormPedido","products","status","handleChange","e","target","name","value","handleAlert","msg","variant","setTimeout","checkResponse","res","updatePedido","id","pedido_id","tableHead","map","item","product_id","totalNum","imgCont","img"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\r\nimport { Button, Form, Modal, Table } from \"react-bootstrap\";\r\nimport { APIPedidos, IMG_URL } from \"../../../../../api/api\";\r\nimport styles from \"./GestionarPedidos.module.css\";\r\n\r\nconst ModalUpdate = ({\r\n  show,\r\n  handleClose,\r\n  selectedPedido,\r\n  setAlert,\r\n  setAlertMsg,\r\n  setAlertVariant,\r\n}) => {\r\n  const [formPedido, setFormPedido] = useState({\r\n    products: selectedPedido.products,\r\n    status: selectedPedido.status,\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    setFormPedido({\r\n      ...formPedido,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleAlert = (msg, variant) => {\r\n    setAlert(true);\r\n    setAlertMsg(msg);\r\n    setAlertVariant(variant);\r\n    setTimeout(() => {\r\n      setAlert(false);\r\n      setAlertMsg(\"\");\r\n      setAlertVariant(\"\");\r\n    }, 3000);\r\n    handleClose();\r\n  };\r\n\r\n  const checkResponse = (res) => {\r\n    if (res[1].status === 400) {\r\n      handleAlert(res[0][\"message\"], \"danger\");\r\n    } else {\r\n      handleAlert(\"Pedido modificado correctamente.\", \"success\");\r\n    }\r\n  };\r\n\r\n  const updatePedido = async () => {\r\n    const res = await APIPedidos.updatePedido({\r\n      id: selectedPedido.pedido_id,\r\n      status: formPedido.status,\r\n    });\r\n    checkResponse(res);\r\n  };\r\n\r\n  return (\r\n    <Modal show={show} onHide={handleClose}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Editar Pedido</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <Form>\r\n          <Table striped hover responsive>\r\n            <thead className={styles.tableHead}>\r\n              <tr>\r\n                <th>ID</th>\r\n                <th>Nombre</th>\r\n                <th>Cantidad</th>\r\n                <th>Imágen</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {selectedPedido.products.map((item) => {\r\n                return (\r\n                  <tr className=\"text-center\" key={item.product_id}>\r\n                    <td>{item.product_id}</td>\r\n                    <td>{item.name}</td>\r\n                    <td>{item.totalNum}</td>\r\n                    <td className={styles.imgCont}>\r\n                      <img src={`${IMG_URL}${item.img}`} alt={item.name}></img>\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </Table>\r\n          <Form.Group className=\"mb-3\" controlId=\"formStatus\">\r\n            <Form.Label>Status del Usuario</Form.Label>\r\n            <Form.Control\r\n              as=\"select\"\r\n              value={formPedido.status}\r\n              onChange={handleChange}\r\n              name=\"status\"\r\n            >\r\n              <option disabled value={-1}>\r\n                Status actual: {selectedPedido.status}\r\n              </option>\r\n              <option>Realizado</option>\r\n              <option>Enviado</option>\r\n              <option>Entregado</option>\r\n            </Form.Control>\r\n          </Form.Group>\r\n        </Form>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button variant=\"secondary\" onClick={handleClose}>\r\n          Cancelar\r\n        </Button>\r\n        <Button variant=\"primary\" onClick={updatePedido}>\r\n          Editar\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport { ModalUpdate };\r\n"]},"metadata":{},"sourceType":"module"}