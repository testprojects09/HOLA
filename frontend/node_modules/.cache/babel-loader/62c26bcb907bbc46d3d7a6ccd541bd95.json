{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/ederivc/Documents/NEWHEROKU/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/ederivc/Documents/NEWHEROKU/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/ederivc/Documents/NEWHEROKU/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Container,Table}from\"react-bootstrap\";import{Alerts,ModalDeleteProduct,ModalUpdate}from\"../../../../../components/FormUtilities\";import styles from\"./GestionProducts.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var GestionsProducts=function GestionsProducts(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),show=_useState4[0],setShow=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),selectedProduct=_useState6[0],setSelectedProduct=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),deleteProduct=_useState8[0],setDeleteProduct=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),alert=_useState10[0],setAlert=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),alertMsg=_useState12[0],setAlertMsg=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),alertVariant=_useState14[0],setAlertVariant=_useState14[1];var handleShow=function handleShow(product){setShow(!show);setSelectedProduct(product);};var handleDelete=function handleDelete(product){setDeleteProduct(!deleteProduct);setSelectedProduct(product);};var getProducts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/products/getProducts\");case 2:res=_context.sent;_context.next=5;return res.json();case 5:json=_context.sent;setProducts(json);case 7:case\"end\":return _context.stop();}}},_callee);}));return function getProducts(){return _ref.apply(this,arguments);};}();useEffect(function(){getProducts();},[show,deleteProduct]);return/*#__PURE__*/_jsxs(Container,{fluid:true,className:styles.container,children:[/*#__PURE__*/_jsx(\"h1\",{className:styles.title,children:\"Gesti\\xF3n de Productos\"}),/*#__PURE__*/_jsxs(\"div\",{className:styles.tableCont,children:[alert?Alerts(alertMsg,alertVariant,setAlert):null,/*#__PURE__*/_jsxs(Table,{striped:true,className:\"\",responsive:true,children:[/*#__PURE__*/_jsx(\"thead\",{className:styles.tableHead,children:/*#__PURE__*/_jsxs(\"tr\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Nombre\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Marca\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Precio\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Stock\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Descripcion\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Modificar\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[products?Object.keys(products).map(function(item){return/*#__PURE__*/_jsxs(\"tr\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"td\",{children:products[item].product_id}),/*#__PURE__*/_jsx(\"td\",{children:products[item].name}),/*#__PURE__*/_jsx(\"td\",{children:products[item].marca}),/*#__PURE__*/_jsx(\"td\",{children:products[item].price}),/*#__PURE__*/_jsx(\"td\",{children:products[item].cantidad}),/*#__PURE__*/_jsx(\"td\",{children:products[item].descripcion}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:styles.btnContainer,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.editIcon,onClick:function onClick(){return handleShow(products[item]);},children:/*#__PURE__*/_jsx(\"i\",{className:\"bx bxs-edit\"})}),/*#__PURE__*/_jsx(\"div\",{className:styles.deleteIcon,onClick:function onClick(){return handleDelete(products[item]);},children:/*#__PURE__*/_jsx(\"i\",{className:\"bx bxs-trash-alt\"})})]})})]},products[item].product_id);}):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{children:\"Loading\"})}),show?/*#__PURE__*/_jsx(ModalUpdate,{show:show,handleClose:handleShow,selectedProduct:selectedProduct,setAlert:setAlert,setAlertMsg:setAlertMsg,setAlertVariant:setAlertVariant}):null,deleteProduct?/*#__PURE__*/_jsx(ModalDeleteProduct,{show:deleteProduct,handleClose:handleDelete,selectedProduct:selectedProduct,setAlert:setAlert,setAlertMsg:setAlertMsg,setAlertVariant:setAlertVariant}):null]})]})]})]});};export default GestionsProducts;","map":{"version":3,"sources":["C:/Users/ederivc/Documents/NEWHEROKU/frontend/src/pages/AccountPage/Admin/Gestion/Productos/GestionsProducts.jsx"],"names":["React","useEffect","useState","Container","Table","Alerts","ModalDeleteProduct","ModalUpdate","styles","GestionsProducts","products","setProducts","show","setShow","selectedProduct","setSelectedProduct","deleteProduct","setDeleteProduct","alert","setAlert","alertMsg","setAlertMsg","alertVariant","setAlertVariant","handleShow","product","handleDelete","getProducts","fetch","res","json","container","title","tableCont","tableHead","Object","keys","map","item","product_id","name","marca","price","cantidad","descripcion","btnContainer","editIcon","deleteIcon"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Container, Table } from \"react-bootstrap\";\r\nimport {\r\n  Alerts,\r\n  ModalDeleteProduct,\r\n  ModalUpdate,\r\n} from \"../../../../../components/FormUtilities\";\r\nimport styles from \"./GestionProducts.module.css\";\r\n\r\nconst GestionsProducts = () => {\r\n  const [products, setProducts] = useState();\r\n  const [show, setShow] = useState(false);\r\n  const [selectedProduct, setSelectedProduct] = useState();\r\n  const [deleteProduct, setDeleteProduct] = useState(false);\r\n\r\n  const [alert, setAlert] = useState();\r\n  const [alertMsg, setAlertMsg] = useState();\r\n  const [alertVariant, setAlertVariant] = useState();\r\n\r\n  const handleShow = (product) => {\r\n    setShow(!show);\r\n    setSelectedProduct(product);\r\n  };\r\n\r\n  const handleDelete = (product) => {\r\n    setDeleteProduct(!deleteProduct);\r\n    setSelectedProduct(product);\r\n  };\r\n\r\n  const getProducts = async () => {\r\n    const res = await fetch(\"/products/getProducts\");\r\n    const json = await res.json();\r\n    setProducts(json);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getProducts();\r\n  }, [show, deleteProduct]);\r\n\r\n  return (\r\n    <Container fluid className={styles.container}>\r\n      <h1 className={styles.title}>Gesti√≥n de Productos</h1>\r\n      <div className={styles.tableCont}>\r\n        {alert ? Alerts(alertMsg, alertVariant, setAlert) : null}\r\n        <Table striped className=\"\" responsive>\r\n          <thead className={styles.tableHead}>\r\n            <tr className=\"text-center\">\r\n              <th>ID</th>\r\n              <th>Nombre</th>\r\n              <th>Marca</th>\r\n              <th>Precio</th>\r\n              <th>Stock</th>\r\n              <th>Descripcion</th>\r\n              <th>Modificar</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {products ? (\r\n              Object.keys(products).map((item) => {\r\n                return (\r\n                  <tr className=\"text-center\" key={products[item].product_id}>\r\n                    <td>{products[item].product_id}</td>\r\n                    <td>{products[item].name}</td>\r\n                    <td>{products[item].marca}</td>\r\n                    <td>{products[item].price}</td>\r\n                    <td>{products[item].cantidad}</td>\r\n                    <td>{products[item].descripcion}</td>\r\n                    <td>\r\n                      <div className={styles.btnContainer}>\r\n                        <div\r\n                          className={styles.editIcon}\r\n                          onClick={() => handleShow(products[item])}\r\n                        >\r\n                          <i className=\"bx bxs-edit\"></i>\r\n                        </div>\r\n                        <div\r\n                          className={styles.deleteIcon}\r\n                          onClick={() => handleDelete(products[item])}\r\n                        >\r\n                          <i className=\"bx bxs-trash-alt\"></i>\r\n                        </div>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })\r\n            ) : (\r\n              <tr>\r\n                <td>Loading</td>\r\n              </tr>\r\n            )}\r\n            {show ? (\r\n              <ModalUpdate\r\n                show={show}\r\n                handleClose={handleShow}\r\n                selectedProduct={selectedProduct}\r\n                setAlert={setAlert}\r\n                setAlertMsg={setAlertMsg}\r\n                setAlertVariant={setAlertVariant}\r\n              />\r\n            ) : null}\r\n            {deleteProduct ? (\r\n              <ModalDeleteProduct\r\n                show={deleteProduct}\r\n                handleClose={handleDelete}\r\n                selectedProduct={selectedProduct}\r\n                setAlert={setAlert}\r\n                setAlertMsg={setAlertMsg}\r\n                setAlertVariant={setAlertVariant}\r\n              />\r\n            ) : null}\r\n          </tbody>\r\n        </Table>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default GestionsProducts;\r\n"]},"metadata":{},"sourceType":"module"}