{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/ederivc/Documents/NEWHEROKU/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/ederivc/Documents/NEWHEROKU/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"C:/Users/ederivc/Documents/NEWHEROKU/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/ederivc/Documents/NEWHEROKU/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/ederivc/Documents/NEWHEROKU/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from\"react\";import styles from\"./UserAccount.module.css\";import{APIUsers}from\"../../../../api/api\";import{Container,Form,Row,Col,Button}from\"react-bootstrap\";import{Alerts}from\"../../../../components/FormUtilities\";import useAuth from\"../../../../auth/useAuth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserAccount=function UserAccount(){var _useAuth=useAuth(),user=_useAuth.user,checkSession=_useAuth.checkSession;var _useState=useState({nombre:user.first_name,apellidos:user.last_name,email:user.email,telefono:user.phone,contraseña:\"\",newContraseña:\"\",newConfirmarContraseña:\"\"}),_useState2=_slicedToArray(_useState,2),userForm=_useState2[0],setUserForm=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),alert=_useState4[0],setAlert=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),alertMsg=_useState6[0],setAlertMsg=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),alertVariant=_useState8[0],setAlertVariant=_useState8[1];var handleAlert=function handleAlert(msg,variant){setAlert(true);setAlertMsg(msg);setAlertVariant(variant);setTimeout(function(){setAlert(false);setAlertMsg(\"\");setAlertVariant(\"\");},3000);};var handleChange=function handleChange(e){setUserForm(_objectSpread(_objectSpread({},userForm),{},_defineProperty({},e.target.name,e.target.value)));};var sendRequest=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return APIUsers.updateUserAccount({id:user.user_id,nombre:userForm.nombre,apellidos:userForm.apellidos,email:userForm.email,telefono:userForm.telefono,contraseña:userForm.contraseña,newContraseña:userForm.newContraseña,newConfirmarContraseña:userForm.newConfirmarContraseña});case 2:res=_context.sent;if(res[1].status===400){handleAlert(res[0][\"message\"],\"danger\");}else{handleAlert(res[0][\"Response\"],\"success\");checkSession();}case 4:case\"end\":return _context.stop();}}},_callee);}));return function sendRequest(){return _ref.apply(this,arguments);};}();useEffect(function(){setUserForm({nombre:user.first_name,apellidos:user.last_name,email:user.email,telefono:user.phone,contraseña:\"\",newContraseña:\"\",newConfirmarContraseña:\"\"});},[user]);var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();if(!(isNaN(userForm[\"telefono\"])||userForm[\"telefono\"].length!==10)){_context2.next=4;break;}handleAlert(\"El teléfono está incorrecto, debe ser un número de 10 caracteres\",\"danger\");return _context2.abrupt(\"return\");case 4:sendRequest();case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Container,{className:\"\".concat(styles.container,\" pt-4 pb-5\"),children:[/*#__PURE__*/_jsx(\"h1\",{className:styles.title,children:\"Mi cuenta\"}),/*#__PURE__*/_jsxs(Form,{className:\"\".concat(styles.form),onSubmit:handleSubmit,children:[\"Dentro de este apartado puedes modificar tus datos.\",alert?Alerts(alertMsg,alertVariant,setAlert):null,/*#__PURE__*/_jsx(\"h2\",{className:styles.sectionSubtitle,children:\"Datos Personales\"}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{className:\"col-md-6 col-12\",children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formId\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"ID\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"id\",placeholder:\"#\".concat(user.user_id),className:styles.input,disabled:true})]})}),/*#__PURE__*/_jsx(Col,{className:\"col-md-6 col-12\",children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formNombre\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Nombre\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"nombre\",placeholder:\"Ingresa tu nombre\",className:styles.input,value:userForm.nombre,onChange:handleChange})]})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{className:\"col-md-6 col-12\",children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formApellidos\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Apellidos\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"apellidos\",placeholder:\"Ingresa tus apellidos\",className:styles.input,value:userForm.apellidos,onChange:handleChange,isValid:false})]})}),/*#__PURE__*/_jsx(Col,{className:\"col-12 col-md-6\",children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Correo electr\\xF3nico\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"email\",placeholder:user.email,className:styles.input,disabled:true})]})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{className:\"col-12 col-md-6\",children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formTelefono\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"N\\xFAmero de Tel\\xE9fono\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"telefono\",placeholder:\"Ingresa tu n\\xFAmero telefonico\",className:styles.input,value:userForm.telefono,onChange:handleChange})]})}),/*#__PURE__*/_jsx(Col,{className:\"col-12 col-md-6\",children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formContrase\\xF1a\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Contrase\\xF1a\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",name:\"contrase\\xF1a\",placeholder:\"Contrase\\xF1a\",className:styles.input,value:userForm.contraseña,onChange:handleChange})]})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formNewContrase\\xF1a\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Confirmar Contrase\\xF1a\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",name:\"newContrase\\xF1a\",placeholder:\"Nueva contrase\\xF1a\",className:styles.input,value:userForm.newContraseña,onChange:handleChange})]})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formNewConfirmarContrase\\xF1a\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Confirmar Contrase\\xF1a\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",name:\"newConfirmarContrase\\xF1a\",placeholder:\"Confirmar nueva contrase\\xF1a\",className:styles.input,value:userForm.newConfirmarContraseña,onChange:handleChange})]})})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{className:\"d-flex justify-content-end mt-3\",children:[/*#__PURE__*/_jsx(Button,{variant:\"danger\",className:\"mr-3\",size:\"lg\",children:\"Cancelar\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"primary\",size:\"lg\",children:\"Modificar\"})]})})]})]});};export default UserAccount;","map":{"version":3,"sources":["C:/Users/ederivc/Documents/NEWHEROKU/frontend/src/pages/AccountPage/User/Account/UserAccount.jsx"],"names":["useEffect","useState","styles","APIUsers","Container","Form","Row","Col","Button","Alerts","useAuth","UserAccount","user","checkSession","nombre","first_name","apellidos","last_name","email","telefono","phone","contraseña","newContraseña","newConfirmarContraseña","userForm","setUserForm","alert","setAlert","alertMsg","setAlertMsg","alertVariant","setAlertVariant","handleAlert","msg","variant","setTimeout","handleChange","e","target","name","value","sendRequest","updateUserAccount","id","user_id","res","status","handleSubmit","preventDefault","isNaN","length","container","title","form","sectionSubtitle","input"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport styles from \"./UserAccount.module.css\";\r\nimport { APIUsers } from \"../../../../api/api\";\r\nimport { Container, Form, Row, Col, Button } from \"react-bootstrap\";\r\nimport { Alerts } from \"../../../../components/FormUtilities\";\r\nimport useAuth from \"../../../../auth/useAuth\";\r\n\r\nconst UserAccount = () => {\r\n  const { user, checkSession } = useAuth();\r\n\r\n  const [userForm, setUserForm] = useState({\r\n    nombre: user.first_name,\r\n    apellidos: user.last_name,\r\n    email: user.email,\r\n    telefono: user.phone,\r\n    contraseña: \"\",\r\n    newContraseña: \"\",\r\n    newConfirmarContraseña: \"\",\r\n  });\r\n\r\n  const [alert, setAlert] = useState();\r\n  const [alertMsg, setAlertMsg] = useState();\r\n  const [alertVariant, setAlertVariant] = useState();\r\n\r\n  const handleAlert = (msg, variant) => {\r\n    setAlert(true);\r\n    setAlertMsg(msg);\r\n    setAlertVariant(variant);\r\n    setTimeout(() => {\r\n      setAlert(false);\r\n      setAlertMsg(\"\");\r\n      setAlertVariant(\"\");\r\n    }, 3000);\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setUserForm({\r\n      ...userForm,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const sendRequest = async () => {\r\n    const res = await APIUsers.updateUserAccount({\r\n      id: user.user_id,\r\n      nombre: userForm.nombre,\r\n      apellidos: userForm.apellidos,\r\n      email: userForm.email,\r\n      telefono: userForm.telefono,\r\n      contraseña: userForm.contraseña,\r\n      newContraseña: userForm.newContraseña,\r\n      newConfirmarContraseña: userForm.newConfirmarContraseña,\r\n    });\r\n    if (res[1].status === 400) {\r\n      handleAlert(res[0][\"message\"], \"danger\");\r\n    } else {\r\n      handleAlert(res[0][\"Response\"], \"success\");\r\n      checkSession();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setUserForm({\r\n      nombre: user.first_name,\r\n      apellidos: user.last_name,\r\n      email: user.email,\r\n      telefono: user.phone,\r\n      contraseña: \"\",\r\n      newContraseña: \"\",\r\n      newConfirmarContraseña: \"\",\r\n    });\r\n  }, [user]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (isNaN(userForm[\"telefono\"]) || userForm[\"telefono\"].length !== 10) {\r\n      handleAlert(\r\n        \"El teléfono está incorrecto, debe ser un número de 10 caracteres\",\r\n        \"danger\"\r\n      );\r\n      return;\r\n    }\r\n    sendRequest();\r\n  };\r\n\r\n  return (\r\n    <Container className={`${styles.container} pt-4 pb-5`}>\r\n      <h1 className={styles.title}>Mi cuenta</h1>\r\n      <Form className={`${styles.form}`} onSubmit={handleSubmit}>\r\n        Dentro de este apartado puedes modificar tus datos.\r\n        {alert ? Alerts(alertMsg, alertVariant, setAlert) : null}\r\n        <h2 className={styles.sectionSubtitle}>Datos Personales</h2>\r\n        <Row>\r\n          <Col className=\"col-md-6 col-12\">\r\n            <Form.Group controlId=\"formId\">\r\n              <Form.Label>ID</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                name=\"id\"\r\n                placeholder={`#${user.user_id}`}\r\n                className={styles.input}\r\n                disabled\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n          <Col className=\"col-md-6 col-12\">\r\n            <Form.Group controlId=\"formNombre\">\r\n              <Form.Label>Nombre</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                name=\"nombre\"\r\n                placeholder=\"Ingresa tu nombre\"\r\n                className={styles.input}\r\n                value={userForm.nombre}\r\n                onChange={handleChange}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col className=\"col-md-6 col-12\">\r\n            <Form.Group controlId=\"formApellidos\">\r\n              <Form.Label>Apellidos</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                name=\"apellidos\"\r\n                placeholder=\"Ingresa tus apellidos\"\r\n                className={styles.input}\r\n                value={userForm.apellidos}\r\n                onChange={handleChange}\r\n                isValid={false}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n          <Col className=\"col-12 col-md-6\">\r\n            <Form.Group controlId=\"formEmail\">\r\n              <Form.Label>Correo electrónico</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                name=\"email\"\r\n                placeholder={user.email}\r\n                className={styles.input}\r\n                disabled\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col className=\"col-12 col-md-6\">\r\n            <Form.Group controlId=\"formTelefono\">\r\n              <Form.Label>Número de Teléfono</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                name=\"telefono\"\r\n                placeholder=\"Ingresa tu número telefonico\"\r\n                className={styles.input}\r\n                value={userForm.telefono}\r\n                onChange={handleChange}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n          <Col className=\"col-12 col-md-6\">\r\n            <Form.Group controlId=\"formContraseña\">\r\n              <Form.Label>Contraseña</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                name=\"contraseña\"\r\n                placeholder=\"Contraseña\"\r\n                className={styles.input}\r\n                value={userForm.contraseña}\r\n                onChange={handleChange}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <Form.Group controlId=\"formNewContraseña\">\r\n              <Form.Label>Confirmar Contraseña</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                name=\"newContraseña\"\r\n                placeholder=\"Nueva contraseña\"\r\n                className={styles.input}\r\n                value={userForm.newContraseña}\r\n                onChange={handleChange}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n          <Col>\r\n            <Form.Group controlId=\"formNewConfirmarContraseña\">\r\n              <Form.Label>Confirmar Contraseña</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                name=\"newConfirmarContraseña\"\r\n                placeholder=\"Confirmar nueva contraseña\"\r\n                className={styles.input}\r\n                value={userForm.newConfirmarContraseña}\r\n                onChange={handleChange}\r\n              />\r\n            </Form.Group>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col className=\"d-flex justify-content-end mt-3\">\r\n            <Button variant=\"danger\" className=\"mr-3\" size=\"lg\">\r\n              Cancelar\r\n            </Button>\r\n            <Button type=\"submit\" variant=\"primary\" size=\"lg\">\r\n              Modificar\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default UserAccount;\r\n"]},"metadata":{},"sourceType":"module"}