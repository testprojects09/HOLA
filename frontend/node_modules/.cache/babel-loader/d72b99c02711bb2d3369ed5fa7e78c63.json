{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/ederivc/Documents/NEWHEROKU/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/ederivc/Documents/NEWHEROKU/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/ederivc/Documents/NEWHEROKU/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Container,Table}from\"react-bootstrap\";import{Alerts}from\"../../../../../components/FormUtilities\";import{ModalDeleteUser,ModalUpdateUser}from\"./UsersUtilities\";import styles from\"./GestionUsers.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var GestionUsuarios=function GestionUsuarios(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUsers=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),show=_useState4[0],setShow=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),selectedUser=_useState6[0],setSelectedUser=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),deleteUser=_useState8[0],setDeleteUser=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),alert=_useState10[0],setAlert=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),alertMsg=_useState12[0],setAlertMsg=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),alertVariant=_useState14[0],setAlertVariant=_useState14[1];var handleShow=function handleShow(user){setShow(!show);setSelectedUser(user);};var handleDelete=function handleDelete(user){setDeleteUser(!deleteUser);setSelectedUser(user);};var getUsers=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/users/getUser\");case 2:res=_context.sent;_context.next=5;return res.json();case 5:json=_context.sent;setUsers(json);case 7:case\"end\":return _context.stop();}}},_callee);}));return function getUsers(){return _ref.apply(this,arguments);};}();useEffect(function(){getUsers();},[show,deleteUser]);return/*#__PURE__*/_jsxs(Container,{fluid:true,className:styles.container,children:[/*#__PURE__*/_jsx(\"h1\",{className:styles.title,children:\"Gesti\\xF3n de Usuarios\"}),/*#__PURE__*/_jsxs(\"div\",{className:styles.tableCont,children:[alert?Alerts(alertMsg,alertVariant,setAlert):null,/*#__PURE__*/_jsxs(Table,{striped:true,className:\"\",responsive:true,children:[/*#__PURE__*/_jsx(\"thead\",{className:styles.tableHead,children:/*#__PURE__*/_jsxs(\"tr\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Nombre\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Apellidos\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Tel\\xE9fono\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Modificar\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[users?Object.keys(users).map(function(item){return/*#__PURE__*/_jsxs(\"tr\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"td\",{children:users[item].user_id}),/*#__PURE__*/_jsx(\"td\",{children:users[item].email}),/*#__PURE__*/_jsx(\"td\",{children:users[item].first_name}),/*#__PURE__*/_jsx(\"td\",{children:users[item].last_name}),/*#__PURE__*/_jsx(\"td\",{children:users[item].phone}),/*#__PURE__*/_jsx(\"td\",{children:users[item].status}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:styles.btnContainer,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.editIcon,onClick:function onClick(){return handleShow(users[item]);},children:/*#__PURE__*/_jsx(\"i\",{className:\"bx bxs-edit\"})}),/*#__PURE__*/_jsx(\"div\",{className:styles.deleteIcon,onClick:function onClick(){return handleDelete(users[item]);},children:/*#__PURE__*/_jsx(\"i\",{className:\"bx bxs-trash-alt\"})})]})})]},users[item].user_id);}):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{children:\"Loading\"})}),show?/*#__PURE__*/_jsx(ModalUpdateUser,{show:show,handleClose:handleShow,selectedUser:selectedUser,setAlert:setAlert,setAlertMsg:setAlertMsg,setAlertVariant:setAlertVariant}):null,deleteUser?/*#__PURE__*/_jsx(ModalDeleteUser,{show:deleteUser,handleClose:handleDelete,selectedUser:selectedUser,setAlert:setAlert,setAlertMsg:setAlertMsg,setAlertVariant:setAlertVariant}):null]})]})]})]});};export default GestionUsuarios;","map":{"version":3,"sources":["C:/Users/ederivc/Documents/NEWHEROKU/frontend/src/pages/AccountPage/Admin/Gestion/Usuarios/GestionUsuarios.jsx"],"names":["React","useEffect","useState","Container","Table","Alerts","ModalDeleteUser","ModalUpdateUser","styles","GestionUsuarios","users","setUsers","show","setShow","selectedUser","setSelectedUser","deleteUser","setDeleteUser","alert","setAlert","alertMsg","setAlertMsg","alertVariant","setAlertVariant","handleShow","user","handleDelete","getUsers","fetch","res","json","container","title","tableCont","tableHead","Object","keys","map","item","user_id","email","first_name","last_name","phone","status","btnContainer","editIcon","deleteIcon"],"mappings":"6XAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,SAAT,CAAoBC,KAApB,KAAiC,iBAAjC,CACA,OAASC,MAAT,KAAuB,yCAAvB,CACA,OAASC,eAAT,CAA0BC,eAA1B,KAAiD,kBAAjD,CACA,MAAOC,CAAAA,MAAP,KAAmB,2BAAnB,C,wFAEA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC5B,cAA0BP,QAAQ,EAAlC,wCAAOQ,KAAP,eAAcC,QAAd,eAEA,eAAwBT,QAAQ,CAAC,KAAD,CAAhC,yCAAOU,IAAP,eAAaC,OAAb,eACA,eAAwCX,QAAQ,EAAhD,yCAAOY,YAAP,eAAqBC,eAArB,eACA,eAAoCb,QAAQ,CAAC,KAAD,CAA5C,yCAAOc,UAAP,eAAmBC,aAAnB,eAEA,eAA0Bf,QAAQ,EAAlC,0CAAOgB,KAAP,gBAAcC,QAAd,gBACA,gBAAgCjB,QAAQ,EAAxC,2CAAOkB,QAAP,gBAAiBC,WAAjB,gBACA,gBAAwCnB,QAAQ,EAAhD,2CAAOoB,YAAP,gBAAqBC,eAArB,gBAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,IAAD,CAAU,CAC3BZ,OAAO,CAAC,CAACD,IAAF,CAAP,CACAG,eAAe,CAACU,IAAD,CAAf,CACD,CAHD,CAKA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACD,IAAD,CAAU,CAC7BR,aAAa,CAAC,CAACD,UAAF,CAAb,CACAD,eAAe,CAACU,IAAD,CAAf,CACD,CAHD,CAKA,GAAME,CAAAA,QAAQ,0FAAG,sKACGC,CAAAA,KAAK,CAAC,gBAAD,CADR,QACTC,GADS,qCAEIA,CAAAA,GAAG,CAACC,IAAJ,EAFJ,QAETA,IAFS,eAGfnB,QAAQ,CAACmB,IAAD,CAAR,CAHe,sDAAH,kBAARH,CAAAA,QAAQ,0CAAd,CAMA1B,SAAS,CAAC,UAAM,CACd0B,QAAQ,GACT,CAFQ,CAEN,CAACf,IAAD,CAAOI,UAAP,CAFM,CAAT,CAIA,mBACE,MAAC,SAAD,EAAW,KAAK,KAAhB,CAAiB,SAAS,CAAER,MAAM,CAACuB,SAAnC,wBACE,WAAI,SAAS,CAAEvB,MAAM,CAACwB,KAAtB,oCADF,cAEE,aAAK,SAAS,CAAExB,MAAM,CAACyB,SAAvB,WACGf,KAAK,CAAGb,MAAM,CAACe,QAAD,CAAWE,YAAX,CAAyBH,QAAzB,CAAT,CAA8C,IADtD,cAEE,MAAC,KAAD,EAAO,OAAO,KAAd,CAAe,SAAS,CAAC,EAAzB,CAA4B,UAAU,KAAtC,wBACE,cAAO,SAAS,CAAEX,MAAM,CAAC0B,SAAzB,uBACE,YAAI,SAAS,CAAC,aAAd,wBACE,0BADF,cAEE,6BAFF,cAGE,8BAHF,cAIE,iCAJF,cAKE,mCALF,cAME,8BANF,cAOE,iCAPF,GADF,EADF,cAYE,yBACGxB,KAAK,CACJyB,MAAM,CAACC,IAAP,CAAY1B,KAAZ,EAAmB2B,GAAnB,CAAuB,SAACC,IAAD,CAAU,CAC/B,mBACE,YAAI,SAAS,CAAC,aAAd,wBACE,oBAAK5B,KAAK,CAAC4B,IAAD,CAAL,CAAYC,OAAjB,EADF,cAEE,oBAAK7B,KAAK,CAAC4B,IAAD,CAAL,CAAYE,KAAjB,EAFF,cAGE,oBAAK9B,KAAK,CAAC4B,IAAD,CAAL,CAAYG,UAAjB,EAHF,cAIE,oBAAK/B,KAAK,CAAC4B,IAAD,CAAL,CAAYI,SAAjB,EAJF,cAKE,oBAAKhC,KAAK,CAAC4B,IAAD,CAAL,CAAYK,KAAjB,EALF,cAME,oBAAKjC,KAAK,CAAC4B,IAAD,CAAL,CAAYM,MAAjB,EANF,cAOE,iCACE,aAAK,SAAS,CAAEpC,MAAM,CAACqC,YAAvB,wBACE,YACE,SAAS,CAAErC,MAAM,CAACsC,QADpB,CAEE,OAAO,CAAE,yBAAMtB,CAAAA,UAAU,CAACd,KAAK,CAAC4B,IAAD,CAAN,CAAhB,EAFX,uBAIE,UAAG,SAAS,CAAC,aAAb,EAJF,EADF,cAOE,YACE,SAAS,CAAE9B,MAAM,CAACuC,UADpB,CAEE,OAAO,CAAE,yBAAMrB,CAAAA,YAAY,CAAChB,KAAK,CAAC4B,IAAD,CAAN,CAAlB,EAFX,uBAIE,UAAG,SAAS,CAAC,kBAAb,EAJF,EAPF,GADF,EAPF,GAAiC5B,KAAK,CAAC4B,IAAD,CAAL,CAAYC,OAA7C,CADF,CA0BD,CA3BD,CADI,cA8BJ,iCACE,+BADF,EA/BJ,CAmCG3B,IAAI,cACH,KAAC,eAAD,EACE,IAAI,CAAEA,IADR,CAEE,WAAW,CAAEY,UAFf,CAGE,YAAY,CAAEV,YAHhB,CAIE,QAAQ,CAAEK,QAJZ,CAKE,WAAW,CAAEE,WALf,CAME,eAAe,CAAEE,eANnB,EADG,CASD,IA5CN,CA6CGP,UAAU,cACT,KAAC,eAAD,EACE,IAAI,CAAEA,UADR,CAEE,WAAW,CAAEU,YAFf,CAGE,YAAY,CAAEZ,YAHhB,CAIE,QAAQ,CAAEK,QAJZ,CAKE,WAAW,CAAEE,WALf,CAME,eAAe,CAAEE,eANnB,EADS,CASP,IAtDN,GAZF,GAFF,GAFF,GADF,CA6ED,CA5GD,CA8GA,cAAed,CAAAA,eAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Container, Table } from \"react-bootstrap\";\r\nimport { Alerts } from \"../../../../../components/FormUtilities\";\r\nimport { ModalDeleteUser, ModalUpdateUser } from \"./UsersUtilities\";\r\nimport styles from \"./GestionUsers.module.css\";\r\n\r\nconst GestionUsuarios = () => {\r\n  const [users, setUsers] = useState();\r\n\r\n  const [show, setShow] = useState(false);\r\n  const [selectedUser, setSelectedUser] = useState();\r\n  const [deleteUser, setDeleteUser] = useState(false);\r\n\r\n  const [alert, setAlert] = useState();\r\n  const [alertMsg, setAlertMsg] = useState();\r\n  const [alertVariant, setAlertVariant] = useState();\r\n\r\n  const handleShow = (user) => {\r\n    setShow(!show);\r\n    setSelectedUser(user);\r\n  };\r\n\r\n  const handleDelete = (user) => {\r\n    setDeleteUser(!deleteUser);\r\n    setSelectedUser(user);\r\n  };\r\n\r\n  const getUsers = async () => {\r\n    const res = await fetch(\"/users/getUser\");\r\n    const json = await res.json();\r\n    setUsers(json);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getUsers();\r\n  }, [show, deleteUser]);\r\n\r\n  return (\r\n    <Container fluid className={styles.container}>\r\n      <h1 className={styles.title}>Gestión de Usuarios</h1>\r\n      <div className={styles.tableCont}>\r\n        {alert ? Alerts(alertMsg, alertVariant, setAlert) : null}\r\n        <Table striped className=\"\" responsive>\r\n          <thead className={styles.tableHead}>\r\n            <tr className=\"text-center\">\r\n              <th>ID</th>\r\n              <th>Email</th>\r\n              <th>Nombre</th>\r\n              <th>Apellidos</th>\r\n              <th>Teléfono</th>\r\n              <th>Status</th>\r\n              <th>Modificar</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {users ? (\r\n              Object.keys(users).map((item) => {\r\n                return (\r\n                  <tr className=\"text-center\" key={users[item].user_id}>\r\n                    <td>{users[item].user_id}</td>\r\n                    <td>{users[item].email}</td>\r\n                    <td>{users[item].first_name}</td>\r\n                    <td>{users[item].last_name}</td>\r\n                    <td>{users[item].phone}</td>\r\n                    <td>{users[item].status}</td>\r\n                    <td>\r\n                      <div className={styles.btnContainer}>\r\n                        <div\r\n                          className={styles.editIcon}\r\n                          onClick={() => handleShow(users[item])}\r\n                        >\r\n                          <i className=\"bx bxs-edit\"></i>\r\n                        </div>\r\n                        <div\r\n                          className={styles.deleteIcon}\r\n                          onClick={() => handleDelete(users[item])}\r\n                        >\r\n                          <i className=\"bx bxs-trash-alt\"></i>\r\n                        </div>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })\r\n            ) : (\r\n              <tr>\r\n                <td>Loading</td>\r\n              </tr>\r\n            )}\r\n            {show ? (\r\n              <ModalUpdateUser\r\n                show={show}\r\n                handleClose={handleShow}\r\n                selectedUser={selectedUser}\r\n                setAlert={setAlert}\r\n                setAlertMsg={setAlertMsg}\r\n                setAlertVariant={setAlertVariant}\r\n              />\r\n            ) : null}\r\n            {deleteUser ? (\r\n              <ModalDeleteUser\r\n                show={deleteUser}\r\n                handleClose={handleDelete}\r\n                selectedUser={selectedUser}\r\n                setAlert={setAlert}\r\n                setAlertMsg={setAlertMsg}\r\n                setAlertVariant={setAlertVariant}\r\n              />\r\n            ) : null}\r\n          </tbody>\r\n        </Table>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default GestionUsuarios;\r\n"]},"metadata":{},"sourceType":"module"}