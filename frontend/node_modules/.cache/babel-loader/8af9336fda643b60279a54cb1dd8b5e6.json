{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/ederivc/Documents/NEWHEROKU/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/ederivc/Documents/NEWHEROKU/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/ederivc/Documents/NEWHEROKU/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Container,Table}from\"react-bootstrap\";import{Alerts,ModalDeleteProduct// ModalUpdate,\n}from\"../../../../../components/FormUtilities\";import{ModalUpdate}from\"./GestionPedidosUtilitites\";import styles from\"./GestionarPedidos.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var GestionarPedidos=function GestionarPedidos(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),pedidos=_useState2[0],setPedidos=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),show=_useState4[0],setShow=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),selectedPedido=_useState6[0],setSelectedPedido=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),deletePedido=_useState8[0],setDeletePedido=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),alert=_useState10[0],setAlert=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),alertMsg=_useState12[0],setAlertMsg=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),alertVariant=_useState14[0],setAlertVariant=_useState14[1];var handleShow=function handleShow(pedido){setShow(!show);setSelectedPedido(pedido);};var getPedidos=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/pedidos/getAllPedidos\");case 2:res=_context.sent;_context.next=5;return res.json();case 5:json=_context.sent;setPedidos(json);case 7:case\"end\":return _context.stop();}}},_callee);}));return function getPedidos(){return _ref.apply(this,arguments);};}();useEffect(function(){getPedidos();},[show,deletePedido]);return/*#__PURE__*/_jsxs(Container,{fluid:true,className:styles.container,children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center pt-4\",children:\"Gesti\\xF3n de Pedidos\"}),/*#__PURE__*/_jsxs(\"div\",{className:styles.tableCont,children:[alert?Alerts(alertMsg,alertVariant,setAlert):null,/*#__PURE__*/_jsxs(Table,{striped:true,className:\"\",responsive:true,children:[/*#__PURE__*/_jsx(\"thead\",{className:styles.tableHead,children:/*#__PURE__*/_jsxs(\"tr\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Cliente\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Direcci\\xF3n\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Fecha del Pedido\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Total\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Modificar\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[pedidos?Object.keys(pedidos).map(function(item){return/*#__PURE__*/_jsxs(\"tr\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"td\",{children:\"#\".concat(pedidos[item].pedido_id)}),/*#__PURE__*/_jsx(\"td\",{children:pedidos[item].user_id}),/*#__PURE__*/_jsx(\"td\",{children:\"\".concat(pedidos[item].direccion,\", \").concat(pedidos[item].codigo_postal)}),/*#__PURE__*/_jsx(\"td\",{children:pedidos[item].date}),/*#__PURE__*/_jsx(\"td\",{children:\"$\".concat(pedidos[item].total)}),/*#__PURE__*/_jsx(\"td\",{children:pedidos[item].status}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{className:styles.btnContainer,children:/*#__PURE__*/_jsx(\"div\",{className:styles.editIcon,onClick:function onClick(){return handleShow(pedidos[item]);},children:/*#__PURE__*/_jsx(\"i\",{className:\"bx bxs-edit\"})})})})]},pedidos[item].pedido_id);}):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{children:\"Loading\"})}),show?/*#__PURE__*/_jsx(ModalUpdate,{show:show,handleClose:handleShow,selectedPedido:selectedPedido,setAlert:setAlert,setAlertMsg:setAlertMsg,setAlertVariant:setAlertVariant}):null]})]})]})]});};export default GestionarPedidos;","map":{"version":3,"sources":["C:/Users/ederivc/Documents/NEWHEROKU/frontend/src/pages/AccountPage/Admin/Gestion/Pedidos/GestionarPedidos.jsx"],"names":["React","useEffect","useState","Container","Table","Alerts","ModalDeleteProduct","ModalUpdate","styles","GestionarPedidos","pedidos","setPedidos","show","setShow","selectedPedido","setSelectedPedido","deletePedido","setDeletePedido","alert","setAlert","alertMsg","setAlertMsg","alertVariant","setAlertVariant","handleShow","pedido","getPedidos","fetch","res","json","container","tableCont","tableHead","Object","keys","map","item","pedido_id","user_id","direccion","codigo_postal","date","total","status","btnContainer","editIcon"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Container, Table } from \"react-bootstrap\";\r\nimport {\r\n  Alerts,\r\n  ModalDeleteProduct,\r\n  // ModalUpdate,\r\n} from \"../../../../../components/FormUtilities\";\r\nimport { ModalUpdate } from \"./GestionPedidosUtilitites\";\r\nimport styles from \"./GestionarPedidos.module.css\";\r\n\r\nconst GestionarPedidos = () => {\r\n  const [pedidos, setPedidos] = useState();\r\n  const [show, setShow] = useState(false);\r\n  const [selectedPedido, setSelectedPedido] = useState();\r\n  const [deletePedido, setDeletePedido] = useState(false);\r\n\r\n  const [alert, setAlert] = useState();\r\n  const [alertMsg, setAlertMsg] = useState();\r\n  const [alertVariant, setAlertVariant] = useState();\r\n\r\n  const handleShow = (pedido) => {\r\n    setShow(!show);\r\n    setSelectedPedido(pedido);\r\n  };\r\n\r\n  const getPedidos = async () => {\r\n    const res = await fetch(\"/pedidos/getAllPedidos\");\r\n    const json = await res.json();\r\n    setPedidos(json);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getPedidos();\r\n  }, [show, deletePedido]);\r\n\r\n  return (\r\n    <Container fluid className={styles.container}>\r\n      <h1 className=\"text-center pt-4\">Gestión de Pedidos</h1>\r\n      <div className={styles.tableCont}>\r\n        {alert ? Alerts(alertMsg, alertVariant, setAlert) : null}\r\n        <Table striped className=\"\" responsive>\r\n          <thead className={styles.tableHead}>\r\n            <tr className=\"text-center\">\r\n              <th>ID</th>\r\n              <th>Cliente</th>\r\n              <th>Dirección</th>\r\n              <th>Fecha del Pedido</th>\r\n              <th>Total</th>\r\n              <th>Status</th>\r\n              <th>Modificar</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {pedidos ? (\r\n              Object.keys(pedidos).map((item) => {\r\n                return (\r\n                  <tr className=\"text-center\" key={pedidos[item].pedido_id}>\r\n                    <td>{`#${pedidos[item].pedido_id}`}</td>\r\n                    <td>{pedidos[item].user_id}</td>\r\n                    <td>{`${pedidos[item].direccion}, ${pedidos[item].codigo_postal}`}</td>\r\n                    <td>{pedidos[item].date}</td>\r\n                    <td>{`$${pedidos[item].total}`}</td>\r\n                    <td>{pedidos[item].status}</td>\r\n                    <td>\r\n                      <div className={styles.btnContainer}>\r\n                        <div\r\n                          className={styles.editIcon}\r\n                          onClick={() => handleShow(pedidos[item])}\r\n                        >\r\n                          <i className=\"bx bxs-edit\"></i>\r\n                        </div>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })\r\n            ) : (\r\n              <tr>\r\n                <td>Loading</td>\r\n              </tr>\r\n            )}\r\n            {show ? (\r\n              <ModalUpdate\r\n                show={show}\r\n                handleClose={handleShow}\r\n                selectedPedido={selectedPedido}\r\n                setAlert={setAlert}\r\n                setAlertMsg={setAlertMsg}\r\n                setAlertVariant={setAlertVariant}\r\n              />\r\n            ) : null}\r\n          </tbody>\r\n        </Table>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default GestionarPedidos;\r\n"]},"metadata":{},"sourceType":"module"}